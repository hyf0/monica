{"version":3,"sources":["store/tasks/actionTypes.js","store/tasks/actions.js","store/global/actionTypes.js","store/global/actions.js","store/editingTask/actionTypes.js","store/editingTask/actions.js","store/effect/actionTypes.js","store/effect/actions.js","store/user/actionTypes.js","store/user/actions.js","utils/constants.js","containers/CompleteTaskButtonContainer.jsx","containers/EdtingTaskButtonContainer.jsx","containers/AppBarContainer/index.jsx","components/List.jsx","store/global/reducer.js","utils/index.js","store/tasks/reducer.js","env.js","store/editingTask/reducer.js","store/user/reducer.js","store/reducer.js","utils/request.js","config.js","store/user/saga.js","store/effect/sagas.js","store/tasks/saga.js","store/editingTask/saga.js","store/global/sagas.js","store/rootSaga.js","store/index.js","hooks/helper.js","hooks/index.js","components/transitions/transitionEnhancer.jsx","components/transitions/Fade.jsx","components/TaskList.jsx","containers/TaskListContainer.jsx","components/MenuList.jsx","components/InputOnEnter.jsx","containers/MenuListContainer/index.jsx","components/transitions/Slide.jsx","components/Drawer.jsx","components/mask.jsx","containers/SideMenuContainer/index.jsx","components/NotFound.jsx","components/Checkbox.jsx","components/TaskItemList.jsx","containers/TodoListContainer/index.jsx","components/PinnedTaskList.jsx","components/RecentTaskList.jsx","containers/HomeContainer.jsx","containers/EditingTaskPageContainer.jsx","components/LoginArea.jsx","components/RegisterArea.jsx","components/LoginStatus.jsx","containers/AccountManagerContainer.jsx","components/NotificationCard.jsx","components/transitions/Zoom.jsx","containers/NotificationsPanelContainer.jsx","Layout/Index/index.jsx","containers/InitWrapperContainer.jsx","App.jsx","index.js"],"names":["CHANGE_TASKS","ADD_TASK_TO_TASKS","REMOVE_TASK_IN_TASKS","CHANGE_CURRENT_TODO_TASK","CHANGE_CURRENT_TODO_TASK_BY_ID","CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_TASK_ID","TOGGLE_TASK_ITEM_CHECKED","UPDATE_TASK_IN_TASKS","EFFECT_GET_TASK_LIST","EFFECT_DELETE_TASK","EFFECT_GET_TASK","changeTasks","$tasks","type","actionTypes","payload","addTaskToTasks","task","removeTaskInTasks","changeCurrentTodoTask","$task","changeCurrentTodoTaskById","taskId","checkTaskItemInTaskItemsByTaskId","toggleTaskItemPropChecked","$taskItem","updateTaskInTasks","effectGetTaskList","effectDeleteTask","effectGetTask","SHOW_SIDE_MENU","HIDE_SIDE_MENU","SHOW_ACCOUNT_MANAGER","HIDE_ACCOUNT_MANAGER","ADD_ONE_NOTIFICATION","REMOVE_THE_TOP_NOTIFICATION","showSideMenu","hideSideMenu","showAccountManager","hideAccountManager","addOneNitification","info","removeTheTopNitification","CHANGE_CURRENT_TASK","ADD_TASK_ITEM_IN_CURRENT_TASK","REMOVE_TASK_ITEM_IN_CURRENT_TASK","SNAPSHOT_CURRENT_TASK","UNDO_CURRENT_TASK","REDO_CURRENT_TASK","CLEAR_FUTURE_TASKS","CLEAR_EDITNG_HISTORY","EFFECT_UPDATE_TASK","changeCurrentTask","addTaskItemInCurrentTask","removeTaskItemInCurrentTask","undoCurrentTask","redoCurrentTask","snapshotCurrentTask","clearFutureTasks","clearAllEdtingHistory","effectUpdateTask","EFFECT_CREATE_TASK","createTask","updateTask","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","REGISTER_SUCCESS","REGISTER_FAIL","EFFECT_GET_USERINFO","EFFECT_LOGIN","EFFECT_REGISTER","loginSuccess","$loginInfo","loginFail","err","logout","registerSuccess","$registerInfo","registerFail","effectGetUserInfo","effectLogin","userInfo","effectRegister","COLOR_GREEN","COLOR_ORANGE","CompleteTaskButton","props","buttonText","buttonColor","$tasksItemsEntity","$tasksItemsRefs","dispatch","history","$unchckedTaskItems","useMemo","filter","getIn","map","get","numOfAllTaskItem","size","numOfCheckedItem","isAllComleted","hasZeroTaskItem","onClickCompleteButton","useCallback","push","concat","taskActions","react_default","a","createElement","Button","style","flex","backgroundColor","color","transition","aria-label","onClick","defaultProps","List","Map","connect","$state","$editingTask","$futureTasks","$oldTasks","withRouter","isUndoBtnDisabled","isRedoBtnDisabled","undoEditing","editingTaskActions","redoEditing","ButtonGroup","fullWidth","variant","disabled","StartOneTaskButton","AppBarContainer","onClickMenuButton","onClickStartOneTaskButton","onClickHomeButton","AppBar","position","Toolbar","IconButton","edge","Menu_default","react_router","path","component","EdtingTaskButtonContainer","CompleteTaskButtonContainer","render","AppBarContainer_StartOneTaskButton","Home_default","$currentTaskItems","ListWrapper","title","children","subsubheader","ListSubheader","id","width","subheader","defaultState","fromJS","notifications","globalReducer","state","arguments","length","undefined","action","_action$type","_action$payload","Error","set","rawInfo","shift","uniqueId","count","timestamp","Date","now","toString","prefix","ramdomNumsStr","String","Math","round","random","withStopEventtPropagation","func","evt","stopPropagation","_len","args","Array","_key","apply","stopEventPropagation","normalize","arr","name","key","result","entity","refs","forEach","oriObj","identityKey","denormalize","obj","entityName","refsName","ref","getLocalJWT","localStorage","getItem","setLocalJWT","jwt","setItem","host","tasks","currentTodoTask","TasksReducer","tasksEntity","tasksRefs","tasksTobeChangedTo","newTask","merge","targetId","delete","todoTask","propPath","setIn","userActionTypes","clear","currentTask","futureTasks","oldTasks","editingTaskReducer","taskItems","taskItemsEntity","taskItemsRefs","tid","oldTask","last","pop","futureTask","hasLogin","isLogining","isRegistering","userReducer","loginInfo","reducers","combineReducers","global","tasksReducer","editingTask","user","isDev","location","some","hs","includes","request","Axios","create","baseURL","timeout","interceptors","use","config","changedConfig","headers","Authorization","Promise","reject","response","errorResp","data","getUserInfo","login","register","_ref","regenerator_default","wrap","_context","prev","next","call","sent","put","userActions","t0","console","error","stop","_marked","_ref2","loginResp","_loginResp$user","userInfoResp","token","rest","_context2","post","Object","objectWithoutProperties","objectSpread","globalActions","_marked2","_ref3","registerResp","_registerResp$user","_context3","message","_marked3","saga","takeEvery","takeLatest","get$TaskById","updateTaskBy$task","rawTask","items","abrupt","sagas_marked","_$task$toJS","updatedTask","updatedItems","updatedRest","$updatedTask","errorInfo","toJS","sagas_marked2","getTaskList","deleteTaskById","get$TaskThenChangeAndUpdate","rowTaskList","saga_marked","saga_marked2","_ref4","saga_marked3","tasks_saga","taskActionTypes","updateTaskThenSyncInTasks","get$TaskThenChange","editingTask_saga_marked","editingTask_saga_marked2","editingTask_saga","editingTaskActionTypes","removeTheTopNotificationAfterWhile","ms","resolve","setTimeout","global_sagas_marked","sagas","globalActionTypes","mySaga","taskResp","rootSaga_marked","effectActionTypes","all","toConsumableArray","userSagas","taskSagas","editingTaskSagas","globalSagas","rootSaga_marked2","store","sagaMiddleware","createSagaMiddleware","middlewares","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","log","createStore","applyMiddleware","run","rootSaga","transitionEnhancer","TransitionComponent","EnhancedTransitionComponent","willShow","show","_useState","useState","_useState2","slicedToArray","setShow","isMounted","_useState3","_useState4","setIsMounted","useEffect","useIsMounted","assign","in","MaterialFade","renderTask","onClickTask","onClickEditTaskButton","onClickRemoveTaskButton","isEditable","transitions_Fade","ListItem","height","button","ListItemText","primary","Fragment","BorderColor_default","DeleteForever_default","TaskList","onClickSwitchButton","withStopEvtPropagation","callback","subHeader","display","justifyContent","alignItems","className","Typography","Switch","checked","components_List","Divider","$global","$tasksEntity","$tasksRefs","$taskList","isOnline","navigator","onLine","setIsOnline","onlineListener","offlineListener","addEventListener","removeEventListener","useIsOnline","setIsEditable","toggleIsEditable","prevFlag","components_TaskList","MenuList","React","Children","node","index","InputOnEnter","onEnter","onKeyEnterUp","_evt$keyCode","keyCode","TextField","onKeyUp","newTaskTitle","setNewTaskTitle","handleCreateTaskInputChange","target","value","handleEnterUp","trim","effectActions","handleClickLoginBtn","components_MenuList","components_InputOnEnter","label","onChange","margin","MaterialSlide","Drawer","transitions_Slide","direction","maxWidth","overflowY","overflowX","opacity","zIndex","Mask","role","top","left","onClickSideMenuMask","mask","components_Drawer","containers_TaskListContainer","containers_MenuListContainer","NotFound","time","isTimeout","setIsTimeout","seconds","setSeconds","timeoutId","intervalId","setInterval","clearTimeout","clearInterval","to","padding","Checkbox","es_checkbox","TaskItemList","onCreateNewTaskItem","onClickRemoveButton","onClickCheckbox","newTaskItemTitle","setNewTaskItemTitle","onInputNewTaskItem","keyUp","taksItemTitle","dense","gutterBottom","TransitionGroup","taskItemId","$item","CSSTransition","classNames","components_Checkbox","Input","placeholder","TodoListContainer","match","params","$currentTodoTask","components_NotFound","components_TaskItemList","PinnedTaskList","onClickIconButton","onClickIconButtonWithStopEvtPropagation","Star_default","RecentTaskList","StarBorder_default","HomeContainer","$recentTasks","sort","$taskA","$taskB","taskATime","$pinnedTasks","pinOneTask","$pinndTask","unpinOneTask","$unpinndTask","components_PinnedTaskList","components_RecentTaskList","$recentTaskIds","$pinnedTaskIds","EditingTaskPageContainer","$currentEditingTask","isTaskLoaded","setIsTaskLoaded","isTaskTaskChanged","setIsTaskTaskChanged","$newTaskItem","LoginArea","_React$useState","_React$useState2","username","setUsername","_React$useState3","_React$useState4","password","setPassword","handleInputUsername","handleInputPassword","onLogin","tryLogin","isDisabled","RegisterArea","onRegister","tryRegister","UserInfo","$userInfo","usernamePattern","passwordPattern","AccountManagerContainer","tabIndex","setTabIndex","handleClickMask","handleTabChange","tabIndexChangedTo","handleLogin","_userInfo$username","_userInfo$password","test","detail","handleRegister","_userInfo$username2","_userInfo$password2","handleClickLogoutButton","tabContentItems","components_LoginArea","components_RegisterArea","boxSizing","Paper","LoginStatus","Tabs","indicatorColor","textColor","centered","Tab","SUCCESS","ERROR","TYPE_COLOR_MAPPING","_TYPE_COLOR_MAPPING","defineProperty","NotificationCard","subtitle","iconStyle","borderRadius","overflow","icon","PriorityHigh_default","Clear_default","Done_default","Card","CardHeader","avatar","types","WARN","MaterialZoom","NotificationsPanelContainer","$notifications","_ref$detail","_ref$type","transitions_Zoom","components_NotificationCard","marginTop","Index","flexFlow","containers_NotificationsPanelContainer","containers_AppBarContainer","containers_SideMenuContainer","containers_AccountManagerContainer","InitWrapperContainer","propTypes","PropTypes","bool","isRequired","App","es","containers_InitWrapperContainer","react_router_dom","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.69eeed60.chunk.js","sourcesContent":["/* eslint-disable operator-linebreak */\n\nexport const CHANGE_TASKS = 'tasks/CHANGE_TASKS';\n\nexport const ADD_TASK_TO_TASKS = 'tasks/ADD_TASK_TO_TASKS';\n\nexport const REMOVE_TASK_IN_TASKS = 'tasks/REMOVE_TASK_IN_TASKS';\n\nexport const CHANGE_CURRENT_TODO_TASK = 'tasks/CHANGE_CURRENT_TODO_TASK';\n\nexport const CHANGE_CURRENT_TODO_TASK_BY_ID =\n  'tasks/CHANGE_CURRENT_TODO_TASK_BY_ID';\n\n// -- task item\n\n// export const CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_INDEX =\n//   'tasks/CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_INDEX';\n\nexport const CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_TASK_ID =\n  'tasks/CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_TASK_ID';\n\nexport const TOGGLE_TASK_ITEM_CHECKED = 'tasks/TOGGLE_TASK_ITEM_CHECKED';\n\n// editing task\n\n// export const UPDARE_TASK_FROM_EDTING = 'tasks/UPDARE_TASK_FROM_EDTING';\n\nexport const UPDATE_TASK_IN_TASKS = 'tasks/UPDATE_TASK_IN_TASKS';\n\n// effect\n\nexport const EFFECT_GET_TASK_LIST = 'tasks/EFFECT_GET_TASK_LIST';\n\nexport const EFFECT_DELETE_TASK = 'tasks/EFFECT_DELETE_TASK';\n\nexport const EFFECT_GET_TASK = 'tasks/EFFECT_GET_TASK';\n\n// export const EFFECT_UPDATE_TASK = 'tasks/EFFECT_UPDATE_TASK';\n","import * as actionTypes from './actionTypes';\n\nexport const changeTasks = ($tasks) => ({\n  type: actionTypes.CHANGE_TASKS,\n  payload: $tasks,\n});\n\nexport const addTaskToTasks = (task) => ({\n  type: actionTypes.ADD_TASK_TO_TASKS,\n  payload: task,\n});\n\nexport const removeTaskInTasks = (task) => ({\n  type: actionTypes.REMOVE_TASK_IN_TASKS,\n  payload: task,\n});\n\nexport const changeCurrentTodoTask = ($task) => ({\n  type: actionTypes.CHANGE_CURRENT_TODO_TASK,\n  payload: $task,\n});\n\nexport const changeCurrentTodoTaskById = (taskId) => ({\n  type: actionTypes.CHANGE_CURRENT_TODO_TASK_BY_ID,\n  payload: taskId,\n});\n\n// -- task item\n\n// export const checkTaskItemInTaskItemsByIndex = (index) => ({\n//   type: actionTypes.CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_INDEX,\n//   payload: index,\n// });\n\nexport const checkTaskItemInTaskItemsByTaskId = (taskId) => ({\n  type: actionTypes.CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_TASK_ID,\n  payload: taskId,\n});\n\nexport const toggleTaskItemPropChecked = ($taskItem) => ({\n  type: actionTypes.TOGGLE_TASK_ITEM_CHECKED,\n  payload: $taskItem,\n});\n\n// edting task\n\n// export const updateTaskFromEdting = ($task) => ({\n//   type: actionTypes.UPDARE_TASK_FROM_EDTING,\n//   payload: $task,\n// });\n\nexport const updateTaskInTasks = ($task) => ({\n  type: actionTypes.UPDATE_TASK_IN_TASKS,\n  payload: $task,\n});\n\n// effect\n\nexport const effectGetTaskList = () => ({\n  type: actionTypes.EFFECT_GET_TASK_LIST,\n});\n\nexport const effectDeleteTask = (taskId) => ({\n  type: actionTypes.EFFECT_DELETE_TASK,\n  payload: taskId,\n});\n\nexport const effectGetTask = (taskId) => ({\n  type: actionTypes.EFFECT_GET_TASK,\n  payload: taskId,\n});\n\n// export const effectUpdateTask = ($task) => ({\n//   type: actionTypes.EFFECT_UPDATE_TASK,\n//   payload: $task,\n// });\n","export const SHOW_SIDE_MENU = 'global/SHOW_SIDE_MENU';\n\nexport const HIDE_SIDE_MENU = 'global/HIDE_SIDE_MENU';\n\nexport const SHOW_ACCOUNT_MANAGER = 'SHOW_ACCOUNT_MANAGER';\n\nexport const HIDE_ACCOUNT_MANAGER = 'HIDE_ACCOUNT_MANAGER';\n\nexport const ADD_ONE_NOTIFICATION = 'ADD_ONE_NOTIFICATION';\n\nexport const REMOVE_THE_TOP_NOTIFICATION = 'REMOVE_THE_TOP_NOTIFICATION';\n\n// export const CHANGE_CURRENT_PATH = 'global/CHANGE_CURRENT_PATH';\n","import * as actionTypes from './actionTypes';\n\nexport const showSideMenu = () => ({\n  type: actionTypes.SHOW_SIDE_MENU,\n});\n\nexport const hideSideMenu = () => ({\n  type: actionTypes.HIDE_SIDE_MENU,\n});\n\nexport const showAccountManager = () => ({\n  type: actionTypes.SHOW_ACCOUNT_MANAGER,\n});\n\nexport const hideAccountManager = () => ({\n  type: actionTypes.HIDE_ACCOUNT_MANAGER,\n});\n\n/**\n *\n * @param {{\n *  title: string;\n *  message?: string;\n *  type: 'warn' | 'error' | 'success';\n *  key: string;\n * }} info\n */\nexport const addOneNitification = (info) => ({\n  type: actionTypes.ADD_ONE_NOTIFICATION,\n  payload: info,\n});\n\nexport const removeTheTopNitification = () => ({\n  type: actionTypes.REMOVE_THE_TOP_NOTIFICATION,\n});\n\n// export const changeCurrentPath = (path, sideEffect = null) => ({\n//   type: actionTypes.CHANGE_CURRENT_PATH,\n//   payload: path,\n//   sideEffect,\n// });\n","/* eslint-disable operator-linebreak */\nexport const CHANGE_CURRENT_TASK = 'editingTask/CHANGE_CURRENT_TASK';\n\nexport const ADD_TASK_ITEM_IN_CURRENT_TASK =\n  'editingTask/ADD_TASK_ITEM_IN_CURRENT_TASK';\n\nexport const REMOVE_TASK_ITEM_IN_CURRENT_TASK =\n  'editingTask/REMOVE_TASK_ITEM_IN_CURRENT_TASK';\n\nexport const SNAPSHOT_CURRENT_TASK = 'editingTask/SNAPSHOT_CURRENT_TASK';\n\nexport const UNDO_CURRENT_TASK = 'editingTask/UNDO_CURRENT_TASK';\n\nexport const REDO_CURRENT_TASK = 'editingTask/REDO_CURRENT_TASK';\n\nexport const CLEAR_FUTURE_TASKS = 'editingTask/CLEAR_FUTURE_TASKS';\n\nexport const CLEAR_EDITNG_HISTORY = 'editingTask/CLEAR_EDITNG_HISTORY';\n\n// effect\n\nexport const EFFECT_UPDATE_TASK = 'editingtask/EFFECT_UPDATE_TASK';\n\nexport const EFFECT_GET_TASK = 'editingTask/EFFECT_GET_TASK';\n","/* eslint-disable arrow-parens */\nimport * as actionTypes from './actionTypes';\n\nexport const changeCurrentTask = ($task) => ({\n  type: actionTypes.CHANGE_CURRENT_TASK,\n  payload: $task,\n});\n\nexport const addTaskItemInCurrentTask = ($taskItem) => ({\n  type: actionTypes.ADD_TASK_ITEM_IN_CURRENT_TASK,\n  payload: $taskItem,\n});\n\nexport const removeTaskItemInCurrentTask = ($taskItem) => ({\n  type: actionTypes.REMOVE_TASK_ITEM_IN_CURRENT_TASK,\n  payload: $taskItem,\n});\n\nexport const undoCurrentTask = () => ({\n  type: actionTypes.UNDO_CURRENT_TASK,\n});\n\nexport const redoCurrentTask = () => ({\n  type: actionTypes.REDO_CURRENT_TASK,\n});\n\nexport const snapshotCurrentTask = () => ({\n  type: actionTypes.SNAPSHOT_CURRENT_TASK,\n});\n\nexport const clearFutureTasks = () => ({\n  type: actionTypes.CLEAR_FUTURE_TASKS,\n});\n\nexport const clearAllEdtingHistory = () => ({\n  type: actionTypes.CLEAR_EDITNG_HISTORY,\n});\n\n// effect\n\nexport const effectUpdateTask = ($task) => ({\n  type: actionTypes.EFFECT_UPDATE_TASK,\n  payload: $task,\n});\n\nexport const effectGetTask = (taskId) => ({\n  type: actionTypes.EFFECT_GET_TASK,\n  payload: taskId,\n});\n","export const EFFECT_CREATE_TASK = 'EFFECT_CREATE_TASK';\n\nexport const EFFECT_UPDATE_TASK = 'EFFECT_UPDATE_TASK';\n","import * as actionTypes from './actionTypes';\n\nexport const createTask = (task) => ({\n  type: actionTypes.EFFECT_CREATE_TASK,\n  payload: task,\n});\n\nexport const updateTask = (task) => ({\n  type: actionTypes.EFFECT_UPDATE_TASK,\n  payload: task,\n});\n","export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\n\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\n\nexport const LOGOUT = 'LOGOUT';\n\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\n\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\n\n// effect\n\nexport const EFFECT_GET_USERINFO = 'EFFECT_GET_USERINFO';\n\nexport const EFFECT_LOGIN = 'EFFECT_LOGIN';\n\nexport const EFFECT_REGISTER = 'EFFECT_REGISTER';\n","import * as actionTypes from './actionTypes';\n\nexport const loginSuccess = ($loginInfo) => ({\n  type: actionTypes.LOGIN_SUCCESS,\n  payload: $loginInfo,\n});\n\nexport const loginFail = (err) => ({\n  type: actionTypes.LOGIN_FAIL,\n  payload: err,\n});\n\nexport const logout = () => ({\n  type: actionTypes.LOGOUT,\n});\n\nexport const registerSuccess = ($registerInfo) => ({\n  type: actionTypes.REGISTER_SUCCESS,\n  payload: $registerInfo,\n});\n\nexport const registerFail = (err) => ({\n  type: actionTypes.REGISTER_FAIL,\n  payload: err,\n});\n\n// effect\n\nexport const effectGetUserInfo = () => ({\n  type: actionTypes.EFFECT_GET_USERINFO,\n});\n\nexport const effectLogin = (userInfo) => ({\n  type: actionTypes.EFFECT_LOGIN,\n  payload: userInfo,\n});\n\nexport const effectRegister = (userInfo) => ({\n  type: actionTypes.EFFECT_REGISTER,\n  payload: userInfo,\n});\n\n// export const changeCurrentPath = (path, sideEffect = null) => ({\n//   type: actionTypes.CHANGE_CURRENT_PATH,\n//   payload: path,\n//   sideEffect,\n// });\n","export const COLOR_BLUE = '#2196f3';\n\nexport const COLOR_GREEN = '#43a047';\n\nexport const COLOR_YELLOW = '#fdd835';\n\nexport const COLOR_GREY = '#9e9e9e';\n\nexport const COLOR_ORANGE = '#ff5722';\n\nexport const COLOR_RED = '#f44336';\n\nexport const ROOT_URL = '/monica/';\n","import React, { useCallback, useMemo } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Proptypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { List, Map } from 'immutable';\n\nimport { COLOR_ORANGE, COLOR_GREEN, COLOR_RED } from '../utils/constants';\nimport { taskActions } from '../store/actions';\n\nconst CompleteTaskButton = (props) => {\n  const {\n    $task,\n    $tasksItemsEntity,\n    $tasksItemsRefs,\n    dispatch,\n    history,\n  } = props;\n\n  const $unchckedTaskItems = useMemo(\n    () =>\n      $tasksItemsRefs\n        .filter((taskId) => !$tasksItemsEntity.getIn([taskId, 'checked']))\n        .map((taskId) => $tasksItemsEntity.get(taskId)),\n    [$tasksItemsEntity, $tasksItemsRefs],\n  );\n  const numOfAllTaskItem = $tasksItemsRefs.size;\n  const numOfUncheckedItem = $unchckedTaskItems.size;\n  const numOfCheckedItem = numOfAllTaskItem - numOfUncheckedItem;\n  const isAllComleted = numOfAllTaskItem === numOfCheckedItem;\n  const hasZeroTaskItem = numOfAllTaskItem === 0;\n  const onClickCompleteButton = useCallback(() => {\n    if (hasZeroTaskItem) {\n      // 零个可完成任务项，提供跳转到编辑页面的快速方式\n      history.push(`/edit/${$task.get('id')}`);\n    } else if (isAllComleted) {\n      /* 所有任务项全部完成，跳转到APP主页 */\n      history.push('/');\n    } else {\n      dispatch(\n        taskActions.checkTaskItemInTaskItemsByTaskId(\n          $unchckedTaskItems.getIn(['0', 'id']),\n        ),\n      );\n    }\n  }, [\n    $task,\n    hasZeroTaskItem,\n    isAllComleted,\n    $unchckedTaskItems,\n    history,\n    dispatch,\n  ]);\n\n  let buttonText;\n  let buttonColor;\n  if (hasZeroTaskItem) {\n    buttonText = '添加任务项';\n    buttonColor = COLOR_RED;\n  } else if (isAllComleted) {\n    buttonText = `全部完成(${numOfCheckedItem}/${numOfAllTaskItem})`;\n    buttonColor = COLOR_GREEN;\n  } else {\n    buttonText = `完成一个任务项(${numOfCheckedItem}/${numOfAllTaskItem})`;\n    buttonColor = COLOR_ORANGE;\n  }\n\n  return (\n    <Button\n      style={{\n        flex: '1',\n        backgroundColor: buttonColor,\n        color: '#fff',\n        transition: 'background-color 300ms',\n      }}\n      size=\"medium\"\n      aria-label=\"add\"\n      onClick={onClickCompleteButton}\n    >\n      {buttonText}\n    </Button>\n  );\n};\n\nCompleteTaskButton.propTypes = {\n  $tasksItemsEntity: Proptypes.instanceOf(Map),\n  $tasksItemsRefs: Proptypes.instanceOf(List),\n  $task: Proptypes.instanceOf(Map),\n  dispatch: Proptypes.func.isRequired,\n  history: Proptypes.shape({\n    push: Proptypes.func.isRequired,\n  }).isRequired,\n};\n\nCompleteTaskButton.defaultProps = {\n  $tasksItemsRefs: new List(),\n  $tasksItemsEntity: new Map(),\n  $task: null,\n};\n\nconst mapState = ($state) => {\n  const $task = $state.get('task');\n  return {\n    $tasksItemsEntity: $task.getIn(['currentTodoTask', 'items', 'entity']),\n    $tasksItemsRefs: $task.getIn(['currentTodoTask', 'items', 'refs']),\n    $task: $task.get('currentTodoTask'),\n  };\n};\n\nexport default connect(\n  mapState,\n  null,\n)(CompleteTaskButton);\n","import React, { useCallback } from 'react';\n// import AppBar from '@material-ui/core/AppBar';\n// import Toolbar from '@material-ui/core/Toolbar';\n// import Fab from '@material-ui/core/Fab';\nimport Proptypes from 'prop-types';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\n\nimport { connect } from 'react-redux';\n\nimport { withRouter } from 'react-router-dom';\nimport { List } from 'immutable';\nimport { editingTaskActions } from '../store/actions';\n\nconst EdtingTaskButtonContainer = (props) => {\n  const { $futureTasks, $oldTasks, dispatch } = props;\n  const isUndoBtnDisabled = $oldTasks.size === 0;\n  const isRedoBtnDisabled = $futureTasks.size === 0;\n\n  const undoEditing = useCallback(() => {\n    dispatch(editingTaskActions.undoCurrentTask());\n  }, [dispatch]);\n\n  const redoEditing = useCallback(() => {\n    dispatch(editingTaskActions.redoCurrentTask());\n  }, [dispatch]);\n\n  return (\n    <ButtonGroup fullWidth variant=\"outlined\">\n      <Button onClick={undoEditing} disabled={isUndoBtnDisabled}>\n        Undo\n      </Button>\n      <Button onClick={redoEditing} disabled={isRedoBtnDisabled}>\n        Redo\n      </Button>\n    </ButtonGroup>\n  );\n};\nEdtingTaskButtonContainer.propTypes = {\n  $futureTasks: Proptypes.instanceOf(List).isRequired,\n  $oldTasks: Proptypes.instanceOf(List).isRequired,\n  dispatch: Proptypes.func.isRequired,\n  // isEditingTaskEdited: Proptypes.bool.isRequired,\n};\n\nconst mapState = ($state) => {\n  const $editingTask = $state.get('editingTask');\n  return {\n    $futureTasks: $editingTask.get('futureTasks'),\n    $oldTasks: $editingTask.get('oldTasks'),\n  };\n};\nexport default connect(\n  mapState,\n  null,\n)(withRouter(EdtingTaskButtonContainer));\n","import React, { useCallback } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Proptypes from 'prop-types';\n// import MoreIcon from '@material-ui/icons/MoreVert';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport HomeIcon from '@material-ui/icons/Home';\nimport IconButton from '@material-ui/core/IconButton';\nimport { connect } from 'react-redux';\nimport { Switch, Route, withRouter } from 'react-router-dom';\n\nimport { showSideMenu } from '../../store/actions';\nimport { COLOR_BLUE } from '../../utils/constants';\nimport CompleteTaskButtonContainer from '../CompleteTaskButtonContainer';\n\nimport EdtingTaskButtonContainer from '../EdtingTaskButtonContainer';\n\nconst StartOneTaskButton = (props) => {\n  const { onClick } = props;\n  return (\n    <Button\n      style={{ backgroundColor: COLOR_BLUE, color: '#fff' }}\n      size=\"medium\"\n      fullWidth\n      // variant=\"outlined\"\n      color=\"primary\"\n      aria-label=\"add\"\n      onClick={onClick}\n    >\n      {'开始一项任务'}\n    </Button>\n  );\n};\n\nStartOneTaskButton.propTypes = {\n  onClick: Proptypes.func.isRequired,\n};\n\nfunction AppBarContainer(props) {\n  const { dispatch, history } = props;\n  const onClickMenuButton = useCallback(() => {\n    dispatch(showSideMenu());\n  }, [dispatch]);\n\n  const onClickStartOneTaskButton = useCallback(() => {\n    dispatch(showSideMenu());\n  }, [dispatch]);\n\n  const onClickHomeButton = useCallback(() => {\n    history.push('/');\n  }, [history]);\n\n  return (\n    <AppBar\n      style={{\n        backgroundColor: 'white',\n        flex: '0 0 60px',\n      }}\n      position=\"static\"\n    >\n      <Toolbar>\n        <IconButton edge=\"start\" onClick={onClickMenuButton}>\n          <MenuIcon />\n        </IconButton>\n        <Switch>\n          <Route path=\"/edit/:id\" component={EdtingTaskButtonContainer} />\n          <Route path=\"/todo\" component={CompleteTaskButtonContainer} />\n          <Route\n            render={() => (\n              <StartOneTaskButton onClick={onClickStartOneTaskButton} />\n            )}\n          />\n        </Switch>\n\n        <IconButton onClick={onClickHomeButton} edge=\"end\">\n          <HomeIcon />\n        </IconButton>\n      </Toolbar>\n    </AppBar>\n  );\n}\nAppBarContainer.propTypes = {\n  dispatch: Proptypes.func.isRequired,\n  history: Proptypes.shape({\n    push: Proptypes.func.isRequired,\n  }).isRequired,\n  // $currentTaskItems: Proptypes.instanceOf(List),\n};\n\nAppBarContainer.defaultProps = {\n  // $currentTaskItems: new List(),\n};\n\nconst mapState = ($state) => ({\n  $currentTaskItems: $state.getIn(['global', '$currentTask', '$items']),\n});\nexport default connect(\n  mapState,\n  null,\n)(withRouter(AppBarContainer));\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport PropTypes from 'prop-types';\n\nfunction ListWrapper(props) {\n  const { title, children } = props;\n\n  const subsubheader = title === '' ? null : (\n    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n      {title}\n    </ListSubheader>\n  );\n\n  return (\n    <div>\n      <List\n        style={{\n          width: '100%',\n        }}\n        component=\"nav\"\n        // aria-label=\"secondary mailbox folders\"\n        subheader={subsubheader}\n      >\n        {children}\n      </List>\n    </div>\n  );\n}\n\nListWrapper.propTypes = {\n  title: PropTypes.node,\n  children: PropTypes.node,\n};\n\nListWrapper.defaultProps = {\n  title: '',\n  children: <div>default props</div>,\n};\n\nexport default ListWrapper;\n","/* eslint-disable */\nimport { fromJS, Map } from 'immutable';\n/* eslint-enable */\n\nimport * as actionTypes from './actionTypes';\n\n/**\n * @type Map<string, any>;\n */\nconst defaultState = fromJS({\n  showSideMenu: false,\n  showAccountManager: false,\n  notifications: [], // 存储原生js的对象，非immutable\n});\n\n/**\n *\n * @param {Map<string, any>} state\n * @param {{type: string, action?: any}} action\n */\nconst globalReducer = (state = defaultState, action) => {\n  const { type = null, payload = null } = action;\n  // const { type = null } = action;\n  if (type == null) {\n    throw new Error(`action: ${action} does not has type!`);\n  }\n  switch (action.type) {\n    case actionTypes.SHOW_SIDE_MENU: {\n      return state.set('showSideMenu', true);\n    }\n    case actionTypes.HIDE_SIDE_MENU: {\n      return state.set('showSideMenu', false);\n    }\n    case actionTypes.SHOW_ACCOUNT_MANAGER: {\n      return state.set('showAccountManager', true);\n    }\n    case actionTypes.HIDE_ACCOUNT_MANAGER: {\n      return state.set('showAccountManager', false);\n    }\n    case actionTypes.ADD_ONE_NOTIFICATION: {\n      const rawInfo = payload;\n      return state.set('notifications', state.get('notifications').push(rawInfo));\n    }\n    case actionTypes.REMOVE_THE_TOP_NOTIFICATION: {\n      return state.set('notifications', state.get('notifications').shift());\n    }\n    default:\n      return state;\n  }\n};\n\nexport default globalReducer;\n","// import { isDev } from '../env';\n\nexport const uniqueId = (function saveNextId() {\n  let count = -1;\n  const timestamp = Date.now().toString();\n  return function generatorOfUniqueId(prefix = '') {\n    count += 1;\n    const ramdomNumsStr = `${String(Math.round(Math.random() * 100000000))}-${String(Math.round(Math.random() * 100000000))}`;\n    const id = `${ramdomNumsStr}-${timestamp}-${count}`;\n    if (prefix.length === 0) return id;\n    return `${prefix}-${id}`;\n  };\n}());\n\n// export function deepCopy(obj) {\n//   return JSON.parse(JSON.stringify(obj));\n// }\n\nexport function withStopEventtPropagation(func) {\n  return (evt, ...args) => {\n    evt.stopPropagation();\n    return func(...args);\n  };\n}\n\nexport function stopEventPropagation(evt) {\n  evt.stopPropagation();\n}\n\n/**\n *\n * @param {Array} arr\n * @param {String} name\n * @param {String} key\n */\nexport function normalize(arr, name = 'entity', key = 'id') {\n  const result = {};\n  const entity = {};\n  const refs = [];\n  const refsName = 'refs';\n  result[name] = entity;\n  result[refsName] = refs;\n  arr.forEach((oriObj) => {\n    const identityKey = oriObj[key];\n    refs.push(identityKey);\n    entity[identityKey] = oriObj;\n  });\n  return result;\n}\n\nexport function denormalize(obj, entityName = 'entity', refsName = 'refs') {\n  const result = obj[refsName].map((ref) => obj[entityName][ref]);\n  return result;\n}\n\nexport function getLocalJWT() {\n  return localStorage.getItem('__jwt') || '';\n}\n\nexport function setLocalJWT(jwt) {\n  localStorage.setItem('__jwt', jwt);\n}\n// window.getLocalJWT = getLocalJWT;\n// window.setLocalJWT = setLocalJWT;\n","/* eslint-disable */\nimport { fromJS, Map, List } from 'immutable';\n/* eslint-enable */\n\nimport * as actionTypes from './actionTypes';\nimport { normalize } from '../../utils';\nimport { userActionTypes } from '../actionTypes';\n\n/**\n * @type Map<string, any>;\n */\nconst defaultState = fromJS({\n  tasks: normalize([]),\n  currentTodoTask: null,\n});\n\n/**\n *\n * @param {Map<string, any>} state\n * @param {{type: string, action?: any}} action\n */\nconst TasksReducer = (state = defaultState, action) => {\n  const { type = null, payload = null } = action;\n  if (type == null) {\n    throw new Error('action: {action} does not has type!');\n  }\n  // 快捷访问方式\n  /** @type Map<String, any> */\n  const tasks = state.get('tasks');\n  /** @type Map<String, any> */\n  const tasksEntity = state.getIn(['tasks', 'entity']);\n  /** @type List<String> */\n  const tasksRefs = state.getIn(['tasks', 'refs']);\n\n  switch (action.type) {\n    case actionTypes.CHANGE_TASKS: {\n      const tasksTobeChangedTo = payload;\n      return state.set('tasks', tasksTobeChangedTo);\n    }\n    case actionTypes.ADD_TASK_TO_TASKS: {\n      const { payload: newTask } = action;\n      const id = newTask.get('id');\n      return state.set(\n        'tasks',\n        tasks.merge({\n          entity: tasksEntity.set(id, newTask),\n          refs: tasksRefs.push(id),\n        }),\n      );\n    }\n    case actionTypes.REMOVE_TASK_IN_TASKS: {\n      const targetTask = payload;\n      const targetId = targetTask.get('id');\n      return state.set(\n        'tasks',\n        tasks.merge({\n          entity: tasksEntity.delete(targetId),\n          refs: tasksRefs.filter((id) => id !== targetId),\n        }),\n      );\n    }\n    case actionTypes.CHANGE_CURRENT_TODO_TASK: {\n      const todoTask = payload;\n      return state.set('currentTodoTask', todoTask);\n    }\n    case actionTypes.CHANGE_CURRENT_TODO_TASK_BY_ID: {\n      const id = payload;\n      return state.set('currentTodoTask', state.getIn(['tasks', 'entity', id]));\n    }\n\n    // editing task item\n\n    case actionTypes.TOGGLE_TASK_ITEM_CHECKED: {\n      const taskItem = payload;\n      const propPath = [\n        'currentTodoTask',\n        'items',\n        'entity',\n        taskItem.get('id'),\n        'checked',\n      ];\n      return state.setIn(propPath, !state.getIn(propPath));\n    }\n\n    // case actionTypes.CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_INDEX: {\n    //   const taskItemIndex = payload;\n    //   const targetTaskItemId = state.getIn([\n    //     'currentTodoTask',\n    //     'items',\n    //     'refs',\n    //     taskItemIndex,\n    //   ]);\n    //   return state.setIn(\n    //     ['currentTodoTask', 'items', 'entity', targetTaskItemId, 'checked'],\n    //     true,\n    //   );\n    // }\n\n    case actionTypes.CHECK_TASK_ITEM_IN_TASK_ITEMS_BY_TASK_ID: {\n      const taskId = payload;\n      return state.setIn(\n        ['currentTodoTask', 'items', 'entity', taskId, 'checked'],\n        true,\n      );\n    }\n\n    // case actionTypes.UPDARE_TASK_FROM_EDTING: {\n    //   const task = payload;\n    //   const id = task.get('id');\n    //   return state.setIn(['tasks', 'entity', id], task);\n    // }\n    case actionTypes.UPDATE_TASK_IN_TASKS: {\n      const task = payload;\n      const id = task.get('id');\n      return state.setIn(['tasks', 'entity', id], task);\n    }\n\n    // user\n\n    case userActionTypes.LOGOUT: {\n      return state.set('tasks', state.get('tasks').merge({\n        entity: tasksEntity.clear(),\n        refs: tasksRefs.clear(),\n      }));\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default TasksReducer;\n","/**\n * @param {String} host\n */\nconst createIsDev = host => () => {\n  const hosts = ['localhost', '127.0.0.1'];\n  return hosts.some(hs => host.includes(hs));\n};\n\n// eslint-disable-next-line no-restricted-globals\nexport const isDev = createIsDev(location.host);\n// export const isDev = () => false;\nexport const foo = 'nothing';\n","/* eslint-disable arrow-parens */\n/* eslint-disable */\nimport { fromJS, Map, List } from 'immutable';\n/* eslint-enable */\n\nimport * as actionTypes from './actionTypes';\n\n/**\n * @type Map<string, any>;\n */\nconst defaultState = fromJS({\n  currentTask: null,\n  futureTasks: [],\n  oldTasks: [],\n});\n\n/**\n *\n * @param {Map<string, any>} state\n * @param {{type: string, action?: any}} action\n */\nconst editingTaskReducer = (state = defaultState, action) => {\n  const { type = null, payload = null } = action;\n  if (type == null) {\n    throw new Error('action: {action} does not has type!');\n  }\n\n  const taskItems = state.getIn(['currentTask', 'items']);\n  const taskItemsEntity = state.getIn(['currentTask', 'items', 'entity']);\n  const taskItemsRefs = state.getIn(['currentTask', 'items', 'refs']);\n\n  switch (action.type) {\n    case actionTypes.CHANGE_CURRENT_TASK: {\n      const task = payload;\n      return state.set('currentTask', task);\n    }\n    case actionTypes.ADD_TASK_ITEM_IN_CURRENT_TASK: {\n      const $taskItem = payload;\n      const id = $taskItem.get('id');\n      return state.setIn(\n        ['currentTask', 'items'],\n        taskItems.merge({\n          entity: taskItemsEntity.set(id, $taskItem),\n          refs: taskItemsRefs.push(id),\n        }),\n      );\n    }\n    case actionTypes.REMOVE_TASK_ITEM_IN_CURRENT_TASK: {\n      const $taskItem = payload;\n      const id = $taskItem.get('id');\n      return state.setIn(\n        ['currentTask', 'items'],\n        taskItems.merge({\n          entity: taskItemsEntity.delete(id),\n          refs: taskItemsRefs.filter((tid) => tid !== id),\n        }),\n      );\n    }\n    case actionTypes.UNDO_CURRENT_TASK: {\n      const oldTasks = state.get('oldTasks');\n      if (oldTasks.length !== 0) {\n        const futureTasks = state.get('futureTasks');\n        const currentTask = state.get('currentTask');\n        const oldTask = oldTasks.last();\n        return state.merge({\n          currentTask: oldTask,\n          futureTasks: futureTasks.push(currentTask),\n          oldTasks: oldTasks.pop(),\n        });\n      }\n      return state;\n    }\n    case actionTypes.REDO_CURRENT_TASK: {\n      const futureTasks = state.get('futureTasks');\n      if (futureTasks.length !== 0) {\n        const oldTasks = state.get('oldTasks');\n        const currentTask = state.get('currentTask');\n        const futureTask = futureTasks.last();\n        return state.merge({\n          currentTask: futureTask,\n          futureTasks: futureTasks.pop(),\n          oldTasks: oldTasks.push(currentTask),\n        });\n      }\n      return state;\n    }\n    case actionTypes.SNAPSHOT_CURRENT_TASK: {\n      const currentTask = state.get('currentTask');\n      if (currentTask != null) {\n        const oldTasks = state.get('oldTasks');\n        return state.set('oldTasks', oldTasks.push(currentTask));\n      }\n      return state;\n    }\n    case actionTypes.CLEAR_FUTURE_TASKS: {\n      return state.set('futureTasks', state.get('futureTasks').clear());\n    }\n    case actionTypes.CLEAR_EDITNG_HISTORY: {\n      return state.merge({\n        futureTasks: state.get('futureTasks').clear(),\n        oldTasks: state.get('oldTasks').clear(),\n      });\n    }\n    default:\n      return state;\n  }\n};\n\nexport default editingTaskReducer;\n","/* eslint-disable */\nimport { fromJS, Map } from 'immutable';\n/* eslint-enable */\n\nimport * as actionTypes from './actionTypes';\nimport { setLocalJWT } from '../../utils';\n\n/**\n * @type Map<string, any>;\n */\nconst defaultState = fromJS({\n  hasLogin: false,\n  userInfo: null,\n  isLogining: false,\n  isRegistering: false,\n});\n\n/**\n *\n * @param {Map<string, any>} state\n * @param {{type: string, action?: any}} action\n */\nconst userReducer = (state = defaultState, action) => {\n  const { type = null, payload = null } = action;\n  if (type == null) {\n    throw new Error(`action: ${action} does not has type!`);\n  }\n  switch (action.type) {\n    case actionTypes.EFFECT_LOGIN: {\n      return state.set('isLogining', true);\n    }\n    case actionTypes.EFFECT_REGISTER: {\n      return state.set('isRegistering', true);\n    }\n    case actionTypes.LOGIN_SUCCESS: {\n      const loginInfo = payload;\n      return state.merge({ hasLogin: true, isLogining: false }, loginInfo);\n    }\n    case actionTypes.LOGIN_FAIL: {\n      return state.set('isLogining', false);\n    }\n    case actionTypes.LOGOUT: {\n      setLocalJWT(''); // 清空本地jwt\n      return state.merge({\n        hasLogin: false,\n        userInfo: null,\n        isLogining: false,\n        isRegistering: false,\n      });\n    }\n    case actionTypes.REGISTER_SUCCESS: {\n      const loginInfo = payload;\n      return state.merge({ hasLogin: true, isRegistering: false }, loginInfo);\n    }\n    case actionTypes.REGISTER_FAIL: {\n      return state.set('isRegistering', false);\n    }\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { combineReducers } from 'redux-immutable';\n\nimport globalReducer from './global/reducer';\nimport tasksReducer from './tasks/reducer';\nimport editingTaskReducer from './editingTask/reducer';\nimport userReducer from './user/reducer';\n\n\nconst reducers = combineReducers({\n  global: globalReducer,\n  task: tasksReducer,\n  editingTask: editingTaskReducer,\n  user: userReducer,\n});\n\n/* eslint-disable */\n\nexport default reducers;\n","import Axios from 'axios';\nimport { getRemoteHostUrl } from '../config';\nimport { getLocalJWT, uniqueId } from '.';\n\nexport const request = Axios.create({\n  baseURL: getRemoteHostUrl(),\n  timeout: 1000,\n});\n\nexport const foo = ';';\n\nrequest.interceptors.request.use(\n  (config) => {\n    const jwt = getLocalJWT();\n    if (jwt === '' || jwt == null) return config;\n    const changedConfig = config;\n    changedConfig.headers.Authorization = `Bearer ${jwt}`;\n    return changedConfig;\n  },\n  (err) => Promise.reject(err),\n);\n\nrequest.interceptors.response.use(\n  (config) => config,\n  (err) => {\n    const { data: errorResp } = err.response;\n    errorResp.type = 'error';\n    errorResp.key = uniqueId('error');\n    return Promise.reject(errorResp);\n  },\n);\n","import { isDev } from \"./env\";\n\nexport function getRemoteHostUrl() {\n  if (isDev()) return 'http://localhost:3031/';\n  return 'http://101.37.174.138/';\n}\n","import {\n  call, put, takeEvery, takeLatest,\n} from 'redux-saga/effects';\nimport { fromJS } from 'immutable';\nimport { userActionTypes } from '../actionTypes';\nimport { request } from '../../utils/request';\nimport { setLocalJWT, uniqueId } from '../../utils';\nimport { userActions, globalActions } from '../actions';\n\nfunction* getUserInfo() {\n  try {\n    const { data: userInfo } = yield call(request.get, '/users');\n    yield put(userActions.loginSuccess({\n      userInfo: fromJS(userInfo),\n    }));\n  } catch (err) {\n    console.error(err);\n    setLocalJWT('');\n  }\n}\n\nfunction* login(action) {\n  try {\n    const { payload: userInfo } = action;\n    const { data: loginResp } = yield call(\n      request.post,\n      '/users/login',\n      userInfo,\n    );\n    const { user: userInfoResp = null, token, ...rest } = loginResp;\n    setLocalJWT(token);\n    yield put(\n      userActions.loginSuccess(\n        fromJS({\n          token,\n          userInfo: userInfoResp,\n          ...rest,\n        }),\n      ),\n    );\n    yield put(globalActions.addOneNitification({\n      type: 'success',\n      title: '登陆成功',\n      key: uniqueId('notifi'),\n    }));\n  } catch (errResp) {\n    yield put(userActions.loginFail());\n    yield put(globalActions.addOneNitification(errResp));\n  }\n}\n\nfunction* register(action) {\n  try {\n    const { payload: userInfo } = action;\n    const { data: registerResp } = yield call(request.post, '/users', userInfo);\n    const { user: userInfoResp = null, token, ...rest } = registerResp;\n    setLocalJWT(token);\n    yield put(\n      userActions.registerSuccess(\n        fromJS({\n          token,\n          userInfo: userInfoResp,\n          ...rest,\n        }),\n      ),\n    );\n    yield put(globalActions.addOneNitification({\n      type: 'success',\n      title: '注册成功',\n      message: '已经为您自动登录应用',\n    }));\n  } catch (errResp) {\n    yield put(userActions.registerFail());\n    yield put(globalActions.addOneNitification(errResp));\n  }\n}\n\nexport default [\n  takeEvery(userActionTypes.EFFECT_GET_USERINFO, getUserInfo),\n  takeLatest(userActionTypes.EFFECT_REGISTER, register),\n  takeLatest(userActionTypes.EFFECT_LOGIN, login),\n];\n","// 在这里抽离出公共的saga函数\nimport { fromJS } from 'immutable';\n\nimport { call, put } from 'redux-saga/effects';\nimport { request } from '../../utils/request';\n\nimport { normalize, denormalize } from '../../utils';\nimport { globalActions } from '../actions';\n\nexport function* get$TaskById(taskId) {\n  try {\n    const { data: rawTask } = yield call(request.get, `/tasks/${taskId}`);\n    const { items, ...rest } = rawTask;\n    const $task = fromJS({\n      ...rest,\n      items: normalize(items),\n    });\n    return $task;\n  } catch (errResp) {\n    yield put(globalActions.addOneNitification(errResp));\n    return null;\n  }\n}\n\nexport function* updateTaskBy$task($task) {\n  try {\n    const { items, ...rest } = $task.toJS();\n    const task = {\n      ...rest,\n      items: denormalize(items),\n      timestamp: Date.now(),\n    };\n    const { data: updatedTask } = yield call(\n      request.put,\n      `/tasks/${task.id}`,\n      task,\n    );\n    const { items: updatedItems, ...updatedRest } = updatedTask;\n    const $updatedTask = fromJS({\n      ...updatedRest,\n      items: normalize(updatedItems),\n    });\n\n    return $updatedTask;\n  } catch (errResp) {\n    const { data: errorInfo } = errResp;\n    errorInfo.type = 'error';\n    errorInfo.title = '编辑任务失败';\n    yield put(globalActions.addOneNitification(errorInfo));\n    return null;\n  }\n}\n\nexport const foo = ' foo';\n","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { fromJS } from 'immutable';\nimport { request } from '../../utils/request';\nimport { normalize } from '../../utils';\nimport { taskActions } from '../actions';\nimport { taskActionTypes } from '../actionTypes';\nimport { get$TaskById } from '../effect/sagas';\n\nfunction* getTaskList() {\n  try {\n    const { data: rowTaskList } = yield call(request.get, '/tasks');\n    const $tasks = fromJS(\n      normalize(\n        rowTaskList.map(({ items, ...rest }) => ({\n          ...rest,\n          items: fromJS(normalize(items)),\n        })),\n      ),\n    );\n    yield put(taskActions.changeTasks($tasks));\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n  }\n}\n\nfunction* deleteTaskById({ payload: taskId }) {\n  try {\n    yield call(request.delete, `/tasks/${taskId}`);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n  }\n}\n\nfunction* get$TaskThenChangeAndUpdate({ payload: taskId }) {\n  const $task = yield call(get$TaskById, taskId);\n  if ($task == null) return;\n  yield put(taskActions.changeCurrentTodoTask($task));\n  yield put(taskActions.updateTaskInTasks($task));\n}\n\n\nexport default [\n  takeEvery(taskActionTypes.EFFECT_GET_TASK_LIST, getTaskList),\n  takeEvery(taskActionTypes.EFFECT_DELETE_TASK, deleteTaskById),\n  takeEvery(taskActionTypes.EFFECT_GET_TASK, get$TaskThenChangeAndUpdate),\n];\n","import { call, takeEvery, put } from 'redux-saga/effects';\n\nimport { editingTaskActionTypes } from '../actionTypes';\nimport { taskActions, editingTaskActions } from '../actions';\nimport { get$TaskById, updateTaskBy$task } from '../effect/sagas';\n\nfunction* updateTaskThenSyncInTasks({ payload: $task }) {\n  const $updatedTask = yield call(updateTaskBy$task, $task);\n  if ($updatedTask == null) return;\n  yield put(taskActions.updateTaskInTasks($updatedTask));\n}\n\nfunction* get$TaskThenChange({ payload: taskId }) {\n  const $task = yield call(get$TaskById, taskId);\n  if ($task == null) return;\n  yield put(editingTaskActions.changeCurrentTask($task));\n}\n\nexport default [\n  takeEvery(editingTaskActionTypes.EFFECT_UPDATE_TASK, updateTaskThenSyncInTasks),\n  takeEvery(editingTaskActionTypes.EFFECT_GET_TASK, get$TaskThenChange),\n];\n","import {\n  call, put, takeEvery,\n} from 'redux-saga/effects';\nimport { globalActionTypes } from '../actionTypes';\nimport { globalActions } from '../actions';\n\nconst timeout = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nfunction* removeTheTopNotificationAfterWhile() {\n  yield call(timeout, 3000);\n  yield put(globalActions.removeTheTopNitification());\n}\n\nexport default [\n  takeEvery(\n    globalActionTypes.ADD_ONE_NOTIFICATION,\n    removeTheTopNotificationAfterWhile,\n  ),\n];\n","import {\n  call, put, takeEvery, all,\n} from 'redux-saga/effects';\nimport { fromJS } from 'immutable';\n\nimport { effectActionTypes } from './actionTypes';\nimport { request } from '../utils/request';\nimport { taskActions, globalActions } from './actions';\nimport { normalize } from '../utils';\n\nimport userSagas from './user/saga';\nimport taskSagas from './tasks/saga';\nimport editingTaskSagas from './editingTask/saga';\nimport globalSagas from './global/sagas';\n\n\n// function* login(action) {\n//   try {\n//     const { payload: userInfo } = action;\n//     const { data: loginResp } = yield call(\n//       request.post,\n//       '/users/login',\n//       userInfo,\n//     );\n//     const { user: userInfoResp = null, token, ...rest } = loginResp;\n//     setLocalJWT(token);\n//     yield put(\n//       userActions.loginSuccess(\n//         fromJS({\n//           token,\n//           userInfo: userInfoResp,\n//           ...rest,\n//         }),\n//       ),\n//     );\n//   } catch (e) {\n//     yield put(userActions.loginFail(e));\n//   }\n// }\n\n// function* register(action) {\n//   try {\n//     const { payload: userInfo } = action;\n//     const { data: registerResp } = yield call(request.post, '/users', userInfo);\n//     const { user: userInfoResp = null, token, ...rest } = registerResp;\n//     setLocalJWT(token);\n//     yield put(\n//       userActions.registerSuccess(\n//         fromJS({\n//           token,\n//           userInfo: userInfoResp,\n//           ...rest,\n//         }),\n//       ),\n//     );\n//   } catch (errResp) {\n//     yield put(userActions.registerFail());\n//   }\n// }\n\nfunction* createTask(action) {\n  try {\n    const { payload: task } = action;\n    const { data: taskResp } = yield call(request.post, '/tasks', task);\n    const { items } = taskResp;\n    yield put(\n      taskActions.addTaskToTasks(\n        fromJS({\n          ...taskResp,\n          items: normalize(items),\n        }),\n      ),\n    );\n  } catch (errResp) {\n    // eslint-disable-next-line no-console\n    console.error('createTask', errResp);\n    yield put(globalActions.addOneNitification(errResp));\n  }\n}\n\nfunction* mySaga() {\n  // yield takeLatest(effectActionTypes.EFFECT_REGISTER, register);\n  // yield takeLatest(effectActionTypes.EFFECT_LOGIN, login);\n\n  // tasks\n\n  yield takeEvery(effectActionTypes.EFFECT_CREATE_TASK, createTask);\n\n  yield all([\n    ...userSagas,\n    ...taskSagas,\n    ...editingTaskSagas,\n    ...globalSagas,\n  ]);\n}\n\nexport default mySaga;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\n\nimport * as constants from './actionTypes';\nimport * as actions from './actions';\nimport reducers from './reducer';\n\nimport rootSaga from './rootSaga';\n\nimport { isDev } from '../env';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst middlewares = [sagaMiddleware];\n\n// eslint-disable-next-line import/no-mutable-exports\nlet store;\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nif (isDev()) {\n  // eslint-disable-next-line no-console\n  console.log('正处于develoment模式');\n  store = createStore(\n    reducers,\n    /* eslint-disable */\n    composeEnhancers(applyMiddleware(...middlewares)),\n  );\n} else {\n  store = createStore(reducers, applyMiddleware(...middlewares));\n}\n\nsagaMiddleware.run(rootSaga)\n\n// const store = createStore(persistedReducer);\n\nexport { store, constants, actions };\n","import { useState, useEffect } from 'react';\n// eslint-disable-next-line no-unused-vars\nimport { Store } from 'redux';\nimport { is } from 'immutable';\n\n/**\n *\n * @param {Store} store\n */\nexport function createUseStore(store) {\n  return function useStore(\n    stateFilter = (state) => state,\n    // mapDispatchToProps = null,\n  ) {\n    const [filtedState, setFiltedState] = useState(\n      stateFilter(store.getState()),\n    );\n    useEffect(() => {\n      const unsub = store.subscribe(() => {\n        const changedState = stateFilter(store.getState());\n        setFiltedState((prevState) => {\n          // setState的值与先前state的值不一样时，react才会触发充渲染，注意react的前后state的比较仅仅是引用比较\n          // 因此这里实现的比较，可以根据的自己的需求，可以任何时候直接返回新state，或者浅比较再选择性返回，由于我\n          // 整个state tree都是immutable的，所以直接使用immutable提供的比较is函数，当状态没变时，返回先前的state的\n          // 由于引用相等，不会重渲染，而当改变时，返回新的state，引用改变，触发重渲染，结合immutable的特性和容器型组件的特点，有以下几个好处\n          // - 容器型组件仅仅从redux接受状态，在使用useStore的情况下，相当于隐式实现了memo功能\n          // - 结合整个state tree 都是 immutable 的特点，这里is比较函数，是相当高效率的，远高于浅比较。\n          if (!is(prevState, changedState)) {\n            return changedState;\n          }\n          return prevState;\n        });\n      });\n      return () => {\n        unsub();\n      };\n    }, [setFiltedState, stateFilter]);\n\n    return {\n      ...filtedState,\n      dispatch: store.dispatch, // 语法糖，方便使用dispatch，不用单独写个useDispatch方法了\n    };\n  };\n}\n\nexport const foo = 'foo';\n","import { useState, useEffect, useCallback } from 'react';\n\nimport { store } from '../store';\nimport { createUseStore } from './helper';\n\nexport const useStore = createUseStore(store);\n\nexport function useIsOnline() {\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n  const onlineListener = useCallback(() => {\n    setIsOnline(true);\n  }, []);\n  const offlineListener = useCallback(() => {\n    setIsOnline(false);\n  }, [setIsOnline]);\n  useEffect(() => {\n    window.addEventListener('online', onlineListener);\n    window.addEventListener('offline', offlineListener);\n    return () => {\n      window.removeEventListener('online', onlineListener);\n      window.removeEventListener('offline', offlineListener);\n    };\n  }, [setIsOnline, onlineListener, offlineListener]);\n  return isOnline;\n}\n\nexport function useIsMounted() {\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setIsMounted(true);\n    return () => setIsMounted(false);\n  }, [setIsMounted]);\n\n  return isMounted;\n}\n\nexport const foo = 'oo';\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useIsMounted } from '../../hooks';\n\nfunction transitionEnhancer(TransitionComponent) {\n  function EnhancedTransitionComponent(props) {\n    const {\n      show: willShow, children, timeout, ...rest\n    } = props;\n\n    const [show, setShow] = useState(false);\n\n    const isMounted = useIsMounted();\n\n    useEffect(() => {\n      if (isMounted) setShow(willShow);\n    }, [isMounted, setShow, willShow]);\n\n    return (\n      <TransitionComponent {...rest} timeout={timeout} in={show}>\n        {children}\n      </TransitionComponent>\n    );\n  }\n  EnhancedTransitionComponent.propTypes = {\n    children: PropTypes.node.isRequired,\n    show: PropTypes.bool.isRequired,\n    timeout: PropTypes.number,\n  };\n\n  EnhancedTransitionComponent.defaultProps = {\n    timeout: 300,\n  };\n  return EnhancedTransitionComponent;\n}\n\nexport default transitionEnhancer;\n","// import React, { useState, useEffect } from 'react';\n// import PropTypes from 'prop-types';\nimport MaterialFade from '@material-ui/core/Fade';\n// import { useIsMounted } from '../../hooks';\nimport transitionEnhancer from './transitionEnhancer';\n\n// function Fade(props) {\n//   const { show: willShow, children, timeout } = props;\n\n//   const [show, setShow] = useState(false);\n\n//   const isMounted = useIsMounted();\n\n//   useEffect(() => {\n//     if (isMounted) setShow(willShow);\n//   }, [isMounted, setShow, willShow]);\n\n//   return (\n//     <MaterialFade timeout={timeout} in={show}>\n//       {children}\n//     </MaterialFade>\n//   );\n// }\n\n// Fade.propTypes = {\n//   children: PropTypes.node.isRequired,\n//   show: PropTypes.bool.isRequired,\n//   timeout: PropTypes.number,\n// };\n\n// Fade.defaultProps = {\n//   timeout: 300,\n// };\n\n\nexport default transitionEnhancer(MaterialFade);\n","import React, { useCallback } from 'react';\n// import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { List as ImmutableList } from 'immutable';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/BorderColor';\nimport IconButton from '@material-ui/core/IconButton';\nimport {\n  ListItem,\n  ListItemText,\n  Divider,\n  Switch as SwitchButton,\n  Typography,\n} from '@material-ui/core';\n\nimport List from './List';\nimport Fade from './transitions/Fade';\n\n/* eslint-disable */\nconst renderTask = ({\n  $task,\n  onClickTask,\n  onClickEditTaskButton,\n  onClickRemoveTaskButton,\n  isEditable,\n}) => (\n  <Fade show={true} key={$task.get('id')}>\n    <ListItem\n      style={{ height: '48px' }}\n      onClick={() => onClickTask($task)}\n      button={!isEditable}\n    >\n      <ListItemText primary={$task.get('title')} />\n      {isEditable ? (\n        <React.Fragment>\n          <IconButton onClick={(evt) => onClickEditTaskButton(evt, $task)}>\n            <EditIcon />\n          </IconButton>\n          <IconButton onClick={(evt) => onClickRemoveTaskButton(evt, $task)}>\n            <DeleteIcon />\n          </IconButton>\n        </React.Fragment>\n      ) : null}\n    </ListItem>\n  </Fade>\n);\n/* eslint-enable */\n\nfunction TaskList(props) {\n  const {\n    onClickTask,\n    onClickEditTaskButton,\n    onClickRemoveTaskButton,\n    $tasks,\n    isEditable,\n    onClickSwitchButton,\n  } = props;\n\n  const withStopEvtPropagation = useCallback(\n    (callback) => (evt, ...args) => {\n      evt.stopPropagation();\n      callback(...args);\n    },\n    [],\n  );\n\n  const subHeader = (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n      }}\n    >\n      <div className=\"left\">\n        <Typography>任务列表</Typography>\n      </div>\n      <div className=\"right\">\n        <Typography>\n          {'编辑'}\n          <SwitchButton\n            onClick={onClickSwitchButton}\n            checked={isEditable}\n            color=\"primary\"\n          />\n        </Typography>\n      </div>\n    </div>\n  );\n\n  return (\n    <List title={subHeader}>\n      <Divider />\n      {$tasks.map(($task) =>\n        renderTask({\n          $task,\n          isEditable,\n          onClickTask,\n          onClickRemoveTaskButton: withStopEvtPropagation(\n            onClickRemoveTaskButton,\n          ),\n          onClickEditTaskButton: withStopEvtPropagation(onClickEditTaskButton),\n        }))}\n    </List>\n  );\n}\n\nTaskList.propTypes = {\n  $tasks: PropTypes.instanceOf(ImmutableList).isRequired,\n  onClickTask: PropTypes.func,\n  onClickRemoveTaskButton: PropTypes.func,\n  onClickEditTaskButton: PropTypes.func,\n  onClickSwitchButton: PropTypes.func,\n  isEditable: PropTypes.bool,\n  // children: PropTypes.element\n};\n\nTaskList.defaultProps = {\n  onClickTask: () => {\n    /*eslint-disable*/\n    console.log('onClickTask');\n  },\n  onClickRemoveTaskButton: () => {\n    /*eslint-disable*/\n    console.log('onClickRemoveTaskButton');\n  },\n  onClickEditTaskButton: () => {\n    /*eslint-disable*/\n    console.log('onClickEditTaskButton');\n  },\n  onClickSwitchButton: () => {\n    /*eslint-disable*/\n    console.log('onClickSwitchButton');\n  },\n  isEditable: false,\n  // children: <div>default menu content</div>\n};\n\nexport default TaskList;\n","import React, { useCallback, useState, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Map } from 'immutable';\nimport { taskActions, globalActions } from '../store/actions';\n\nimport TaskList from '../components/TaskList';\nimport { useIsOnline } from '../hooks';\n\nfunction TaskListContainer(props) {\n  const {\n    $tasks, dispatch, history, hasLogin,\n  } = props;\n  const $tasksEntity = $tasks.get('entity');\n  const $tasksRefs = $tasks.get('refs');\n  const $taskList = useMemo(\n    () => $tasksRefs.map((taskId) => $tasksEntity.get(taskId)),\n    [$tasksEntity, $tasksRefs],\n  );\n\n  const isOnline = useIsOnline();\n\n  const [isEditable, setIsEditable] = useState(false);\n\n  const toggleIsEditable = useCallback(() => {\n    if (isOnline) {\n      setIsEditable((prevFlag) => !prevFlag);\n    }\n    // setIsEditable(!isEditable);\n  }, [setIsEditable, isOnline]);\n\n  const onClickEditTaskButton = useCallback(\n    ($task) => {\n      dispatch(globalActions.hideSideMenu());\n      history.push(`/edit/${$task.get('id')}`);\n    },\n    [dispatch, history],\n  );\n\n  const onClickRemoveTaskButton = useCallback(\n    ($task) => {\n      dispatch(taskActions.effectDeleteTask($task.get('id')));\n      dispatch(taskActions.removeTaskInTasks($task));\n    },\n    [dispatch],\n  );\n\n  const onClickTask = useCallback(\n    ($task) => {\n      // 防止编辑模式点击，然后进入到任务模式，只能在非编辑模式下进入任务\n      if (isEditable) return;\n      dispatch(globalActions.hideSideMenu());\n      history.push(`/todo/${$task.get('id')}`);\n    },\n    [dispatch, history, isEditable],\n  );\n\n  return (\n    <TaskList\n      onClickEditTaskButton={onClickEditTaskButton}\n      onClickRemoveTaskButton={onClickRemoveTaskButton}\n      onClickTask={onClickTask}\n      isEditable={isOnline && hasLogin && isEditable}\n      onClickSwitchButton={toggleIsEditable}\n      $tasks={$taskList}\n    />\n  );\n}\n\nTaskListContainer.propTypes = {\n  $tasks: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n  hasLogin: PropTypes.bool.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapState = ($state) => {\n  const $global = $state.get('global');\n  const $task = $state.get('task');\n  return {\n    showSideMenu: $global.get('showSideMenu'),\n    $tasks: $task.get('tasks'),\n    hasLogin: $state.getIn(['user', 'hasLogin']),\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapState,\n    null,\n  )(TaskListContainer),\n);\n","import React from 'react';\n\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\n\nimport PropTypes from 'prop-types';\n\nimport List from './List';\n\nfunction MenuList(props) {\n  const { children } = props;\n  return (\n    <List title=\"菜单项\">\n      <Divider />\n      {React.Children.map(children, (node, index) => (\n        <ListItem key={index}>{node}</ListItem>\n      ))}\n    </List>\n  );\n}\n\nMenuList.propTypes = {\n  children: PropTypes.node,\n};\n\nMenuList.defaultProps = {\n  children: null,\n};\n\nexport default MenuList;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\n\nfunction InputOnEnter(props) {\n  const { onEnter, ...rest } = props;\n\n  const onKeyEnterUp = useCallback(\n    (evt) => {\n      const KEY_ENTER = 13;\n      const { keyCode: keyUp = -1 } = evt;\n      if (keyUp === KEY_ENTER) {\n        onEnter(evt);\n      }\n    },\n    [onEnter],\n  );\n\n  return <TextField onKeyUp={onKeyEnterUp} {...rest} />;\n}\n\nInputOnEnter.propTypes = {\n  onEnter: PropTypes.func.isRequired,\n};\n\nInputOnEnter.defaultProps = {};\n\nexport default InputOnEnter;\n","import React, { useCallback, useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\n\nimport MenuList from '../../components/MenuList';\nimport { uniqueId } from '../../utils';\nimport { globalActions, effectActions } from '../../store/actions';\nimport InputOnEnter from '../../components/InputOnEnter';\nimport { COLOR_GREEN, COLOR_ORANGE } from '../../utils/constants';\n\nfunction MenuListContainer(props) {\n  const { dispatch, hasLogin } = props;\n\n  const [newTaskTitle, setNewTaskTitle] = useState('');\n\n  const handleCreateTaskInputChange = useCallback(\n    (evt) => setNewTaskTitle(evt.target.value),\n    [setNewTaskTitle],\n  );\n\n  const handleEnterUp = useCallback(\n    function createNewTaskByTitle(evt) {\n      const title = evt.target.value.trim();\n      if (title !== '') {\n        const task = {\n          title,\n          id: uniqueId(),\n          items: [],\n          timestamp: Date.now(),\n        };\n        dispatch(effectActions.createTask(task));\n\n        setNewTaskTitle('');\n      }\n    },\n    [dispatch, setNewTaskTitle],\n  );\n\n  const handleClickLoginBtn = useCallback(\n    function showLoginAndRegisterModel() {\n      dispatch(globalActions.hideSideMenu());\n      dispatch(globalActions.showAccountManager());\n    },\n    [dispatch],\n  );\n\n  return (\n    <MenuList>\n      <InputOnEnter\n        label={hasLogin ? '创建新任务' : '请先登录'}\n        disabled={!hasLogin}\n        onEnter={handleEnterUp}\n        onChange={handleCreateTaskInputChange}\n        type=\"text\"\n        value={newTaskTitle}\n        margin=\"normal\"\n        variant=\"outlined\"\n        fullWidth\n      />\n      <Button\n        fullWidth\n        variant=\"outlined\"\n        style={{\n          backgroundColor: hasLogin ? COLOR_GREEN : COLOR_ORANGE,\n          color: '#fff',\n        }}\n        onClick={handleClickLoginBtn}\n      >\n        {hasLogin ? '已登录' : '登录|云同步'}\n      </Button>\n    </MenuList>\n  );\n}\n\nMenuListContainer.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  hasLogin: PropTypes.bool.isRequired,\n};\n\nconst mapState = ($state) => ({\n  hasLogin: $state.getIn(['user', 'hasLogin']),\n});\n\nexport default connect(\n  mapState,\n  null,\n)(MenuListContainer);\n","// import React, { useState, useEffect } from 'react';\n// import PropTypes from 'prop-types';\nimport MaterialSlide from '@material-ui/core/Slide';\n// import { useIsMounted } from '../../hooks';\nimport transitionEnhancer from './transitionEnhancer';\n\nexport default transitionEnhancer(MaterialSlide);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Slide from './transitions/Slide';\n\nfunction Drawer(props) {\n  const { show, children } = props;\n\n  return (\n    <Slide show={show} direction=\"right\">\n      <div\n        style={{\n          position: 'absolute',\n          width: '65%',\n          maxWidth: '375px',\n          height: '100vh',\n          backgroundColor: '#fff',\n          overflowY: 'scroll', //* 防止子margin-top影响父margin-top *\n          overflowX: 'hidden',\n          opacity: '1',\n          zIndex: '3000',\n        }}\n        className=\"transition-slide-right-self\"\n      >\n        {children}\n      </div>\n    </Slide>\n  );\n}\n\nDrawer.propTypes = {\n  show: PropTypes.bool,\n  children: PropTypes.node,\n};\n\nDrawer.defaultProps = {\n  show: true,\n  children: '',\n};\n\nexport default Drawer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Fade from './transitions/Fade';\n\nfunction Mask(props) {\n  const { show, onClick } = props;\n\n  return (\n    <Fade show={show}>\n      <div\n        onClick={onClick}\n        role=\"button\"\n        style={{\n          // display: show ? 'block' : 'none',\n          position: 'absolute',\n          backgroundColor: 'rgba(0, 0, 0, 0.25)',\n          top: '0',\n          left: '0',\n          height: '100vh',\n          width: '100%',\n          zIndex: '2000',\n        }}\n        className=\"transition-fade-self\"\n      />\n    </Fade>\n  );\n}\n\nMask.propTypes = {\n  onClick: PropTypes.func,\n  show: PropTypes.bool.isRequired,\n};\n\nMask.defaultProps = {\n  onClick: () => {\n    /*eslint-disable*/\n    console.log('Mask:onClick');\n  },\n};\n\nexport default Mask;\n","import React, { useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { hideSideMenu } from '../../store/actions';\n\nimport TaskListContainer from '../TaskListContainer';\nimport MenuListContainer from '../MenuListContainer';\nimport Drawer from '../../components/Drawer';\nimport Mask from '../../components/mask';\n\nfunction SideMenuContainer(props) {\n  const { dispatch, showSideMenu } = props;\n  const onClickSideMenuMask = useCallback(() => {\n    dispatch(hideSideMenu());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Mask show={showSideMenu} onClick={onClickSideMenuMask} />\n      <Drawer show={showSideMenu}>\n        <TaskListContainer />\n        <MenuListContainer />\n      </Drawer>\n    </>\n  );\n}\n\nSideMenuContainer.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  showSideMenu: PropTypes.bool.isRequired,\n};\n\n// SideMenuContainer.defaultProps = {\n//   showSideMenu: true,\n// };\n\nconst mapState = ($state) => ({\n  showSideMenu: $state.getIn(['global', 'showSideMenu']),\n});\n\nexport default connect(\n  mapState,\n  null,\n)(SideMenuContainer);\n","/* eslint-disable arrow-parens */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router-dom';\n\nfunction NotFound(props) {\n  const { message, time } = props;\n  const [isTimeout, setIsTimeout] = useState(false);\n  const [seconds, setSeconds] = useState(0);\n\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      setIsTimeout(true);\n    }, time);\n\n    const intervalId = setInterval(() => {\n      setSeconds((prev) => prev + 1);\n    }, 1000);\n\n    return () => {\n      clearTimeout(timeoutId);\n      clearInterval(intervalId);\n    };\n  }, [time, setIsTimeout, setSeconds]);\n\n  return isTimeout ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div\n      style={{\n        padding: '20px',\n      }}\n    >\n      <h1>{message}</h1>\n      <h2>\n        {Math.round(time / 1000) - seconds}\n        秒后回到主页\n      </h2>\n    </div>\n  );\n}\n\nNotFound.propTypes = {\n  message: PropTypes.string,\n  time: PropTypes.number,\n};\n\nNotFound.defaultProps = {\n  message: '404 Not Found',\n  time: 3000,\n};\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AntdCheckbox from 'antd/es/checkbox';\n\nimport 'antd/es/checkbox/style/css';\n\nfunction Checkbox(props) {\n  return <AntdCheckbox {...props} />;\n}\n\nCheckbox.propTypes = {\n  onClick: PropTypes.func,\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nCheckbox.defaultProps = {\n  onClick: null,\n  checked: false,\n  disabled: false,\n};\n\nexport default Checkbox;\n","import React, { useState, useCallback } from 'react';\nimport List from '@material-ui/core/List';\nimport Input from '@material-ui/core/Input';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\nimport DeleteIcon from '@material-ui/icons/DeleteForever';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\n\nimport Checkbox from './Checkbox';\nimport { uniqueId } from '../utils';\n\nfunction TaskItemList(props) {\n  const {\n    $task, onCreateNewTaskItem, onClickRemoveButton, isEditable, onClickCheckbox,\n  } = props;\n  const [newTaskItemTitle, setNewTaskItemTitle] = useState('');\n\n  const onInputNewTaskItem = useCallback((evt) => {\n    setNewTaskItemTitle(evt.target.value);\n  }, []);\n\n  const onKeyEnterUp = useCallback(\n    (evt) => {\n      const KEY_ENTER = 13;\n      const { keyCode: keyUp = -1 } = evt;\n      const taksItemTitle = evt.target.value;\n      if (taksItemTitle.length !== 0 && keyUp === KEY_ENTER) {\n        onCreateNewTaskItem(\n          Map({\n            id: uniqueId(),\n            title: taksItemTitle,\n            checked: false,\n          }),\n        );\n        setNewTaskItemTitle('');\n      }\n    },\n    [setNewTaskItemTitle, onCreateNewTaskItem],\n  );\n\n  return (\n    <List>\n      <ListItem dense>\n        <Typography variant=\"h4\" gutterBottom>\n          {$task.get('title')}\n        </Typography>\n      </ListItem>\n      <TransitionGroup className=\"transition-fade\">\n        {$task.getIn(['items', 'refs']).map((taskItemId) => {\n          const $item = $task.getIn(['items', 'entity', taskItemId]);\n          return (\n            <CSSTransition key={$item.get('id')} timeout={300} classNames=\"ani-fade\">\n              <React.Fragment key={$item.get('id')}>\n                <ListItem>\n                  <IconButton onClick={() => onClickCheckbox($item)}>\n                    <Checkbox disabled={isEditable} edge=\"start\" checked={$item.get('checked')} />\n                  </IconButton>\n                  <ListItemText primary={$item.get('title')} />\n                  {isEditable ? (\n                    <IconButton onClick={() => onClickRemoveButton($item)}>\n                      <DeleteIcon />\n                    </IconButton>\n                  ) : null}\n                </ListItem>\n                <Divider variant=\"middle\" />\n              </React.Fragment>\n            </CSSTransition>\n          );\n        })}\n      </TransitionGroup>\n      {isEditable ? (\n        <ListItem>\n          <Input\n            value={newTaskItemTitle}\n            onKeyUp={onKeyEnterUp}\n            onChange={onInputNewTaskItem}\n            placeholder=\"新增待做事项\"\n            fullWidth\n          />\n        </ListItem>\n      ) : null}\n    </List>\n  );\n}\n\nTaskItemList.propTypes = {\n  $task: PropTypes.instanceOf(Map).isRequired,\n  onCreateNewTaskItem: PropTypes.func,\n  onClickRemoveButton: PropTypes.func,\n  isEditable: PropTypes.bool,\n  onClickCheckbox: PropTypes.func,\n};\n\nTaskItemList.defaultProps = {\n  onCreateNewTaskItem: () => {\n    /* eslint-disable */\n    console.log('onCreateNewTaskItem');\n  },\n  onClickRemoveButton: () => {\n    /* eslint-disable */\n    console.log('onCreateNewTaskItem');\n  },\n  onClickCheckbox: () => {\n    /* eslint-disable */\n    console.log('onClickCheckbox');\n  },\n  isEditable: false,\n};\n\nexport default TaskItemList;\n\n// export default TaskItemList;\n","import React, { useCallback, useEffect } from 'react';\n\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n// import { Redirect } from 'react-router-dom';\n// import { Map, List } from 'immutable';\nimport { Map } from 'immutable';\n\nimport NotFound from '../../components/NotFound';\nimport TaskItemList from '../../components/TaskItemList';\nimport { taskActions } from '../../store/actions';\n\nfunction TodoListContainer(props) {\n  const {\n    match: {\n      params: { id: taskId },\n    },\n    $currentTodoTask,\n    dispatch,\n  } = props;\n\n  useEffect(() => {\n    dispatch(taskActions.effectGetTask(taskId));\n    return () => {\n      // 离开当前任务页面时，重置状态树中的currentTodoTask为null，保持状态树整洁\n      dispatch(taskActions.changeCurrentTodoTask(null));\n    };\n  }, [dispatch, taskId]);\n\n  // useEffect(() => {\n  //   dispatch(taskActions.changeCurrentTodoTaskById(taskId));\n  // }, [taskId, dispatch]);\n\n  const toggleTaskItemPropChecked = useCallback(\n    ($taskItem) => {\n      dispatch(taskActions.toggleTaskItemPropChecked($taskItem));\n    },\n    [dispatch],\n  );\n\n  if ($currentTodoTask == null) return <NotFound message=\"Loding...\" time={5000} />;\n\n  return (\n    <TaskItemList\n      onClickCheckbox={toggleTaskItemPropChecked}\n      $task={$currentTodoTask}\n      isEditable={false}\n    />\n  );\n}\n\nTodoListContainer.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n      action: PropTypes.string,\n    }),\n  }).isRequired,\n  // $tasks: PropTypes.instanceOf(List).isRequired,\n  // $tasksEntity: PropTypes.instanceOf(Map).isRequired,\n  $currentTodoTask: PropTypes.instanceOf(Map),\n  dispatch: PropTypes.func.isRequired,\n};\n\nTodoListContainer.defaultProps = {\n  $currentTodoTask: null,\n};\n\nconst mapState = ($state) => {\n  const $global = $state.get('global');\n  const $task = $state.get('task');\n  return {\n    showSideMenu: $global.get('showSideMenu'),\n    $tasksEntity: $task.getIn(['tasks', 'entity']),\n    $currentTodoTask: $task.get('currentTodoTask'),\n  };\n};\n\nexport default connect(\n  mapState,\n  null,\n)(TodoListContainer);\n\n// export default TodoListContainer;\n","import React, { useMemo } from 'react';\nimport {\n  ListItem,\n  ListItemText,\n  Divider,\n  // Typography,\n} from '@material-ui/core';\nimport StarIcon from '@material-ui/icons/Star';\nimport IconButton from '@material-ui/core/IconButton';\nimport PropTypes from 'prop-types';\nimport { List as ImmutableList } from 'immutable';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport List from './List';\n\nimport { withStopEventtPropagation } from '../utils';\n\nfunction PinnedTaskList(props) {\n  const { onClickTask, $tasks, onClickIconButton } = props;\n\n  const onClickIconButtonWithStopEvtPropagation = useMemo(\n    () => withStopEventtPropagation(onClickIconButton),\n    [onClickIconButton],\n  );\n\n  return (\n    <List title=\"置顶任务\">\n      <Divider />\n      <TransitionGroup className=\"transition-fade\">\n        {$tasks.map($task => (\n          <CSSTransition key={$task.get('id')} timeout={600} classNames=\"ani-fade\">\n            <React.Fragment>\n              <ListItem onClick={() => onClickTask($task)} button>\n                <ListItemText primary={$task.get('title')} />\n                <IconButton onClick={evt => onClickIconButtonWithStopEvtPropagation(evt, $task)}>\n                  <StarIcon />\n                </IconButton>\n              </ListItem>\n            </React.Fragment>\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n    </List>\n  );\n}\n\nPinnedTaskList.propTypes = {\n  $tasks: PropTypes.instanceOf(ImmutableList).isRequired,\n  onClickIconButton: PropTypes.func,\n  onClickTask: PropTypes.func,\n};\n\nPinnedTaskList.defaultProps = {\n  onClickTask: () => {\n    /*eslint-disable*/\n    console.log('onClickTask');\n  },\n  onClickIconButton: () => {\n    /*eslint-disable*/\n    console.log('onClickIconButton');\n  },\n};\n\nexport default PinnedTaskList;\n","import React, { useMemo } from 'react';\nimport {\n  ListItem,\n  ListItemText,\n  Divider,\n  // Typography,\n} from '@material-ui/core';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport IconButton from '@material-ui/core/IconButton';\nimport PropTypes from 'prop-types';\nimport { List as ImmutableList } from 'immutable';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport List from './List';\n\nimport { withStopEventtPropagation } from '../utils';\n\nfunction RecentTaskList(props) {\n  const { onClickTask, $tasks, onClickIconButton } = props;\n\n  const onClickIconButtonWithStopEvtPropagation = useMemo(\n    () => withStopEventtPropagation(onClickIconButton),\n    [onClickIconButton],\n  );\n\n  return (\n    <List title=\"最近任务\">\n      <Divider />\n      <TransitionGroup className=\"transition-fade\">\n        {$tasks.map($task => (\n          <CSSTransition key={$task.get('id')} timeout={300} classNames=\"ani-fade\">\n            <React.Fragment>\n              <ListItem onClick={() => onClickTask($task)} button>\n                <ListItemText primary={$task.get('title')} />\n                {$task.get('isPinned') ? null : (\n                  <IconButton\n                    onClick={evt => onClickIconButtonWithStopEvtPropagation(evt, $task)}\n                  >\n                    <StarBorderIcon />\n                  </IconButton>\n                )}\n              </ListItem>\n            </React.Fragment>\n          </CSSTransition>\n        ))}\n      </TransitionGroup>\n    </List>\n  );\n}\n\nRecentTaskList.propTypes = {\n  $tasks: PropTypes.instanceOf(ImmutableList).isRequired,\n  onClickIconButton: PropTypes.func,\n  onClickTask: PropTypes.func,\n};\n\nRecentTaskList.defaultProps = {\n  onClickTask: () => {\n    /*eslint-disable*/\n    console.log('onClickTask');\n  },\n  onClickIconButton: () => {\n    /*eslint-disable*/\n    console.log('onClickIconButton');\n  },\n};\n\nexport default RecentTaskList;\n","/* eslint-disable function-paren-newline */\nimport React, { useCallback, useMemo } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { Map, List } from 'immutable';\nimport { connect } from 'react-redux';\n\nimport PinnedTaskList from '../components/PinnedTaskList';\n\nimport { editingTaskActions } from '../store/actions';\nimport RecentTaskList from '../components/RecentTaskList';\n\nfunction HomeContainer(props) {\n  const {\n    $tasksRefs,\n    dispatch,\n    history,\n    $tasksEntity,\n  } = props;\n\n  const $recentTasks = useMemo(\n    () =>\n      $tasksRefs.map(ref => $tasksEntity.get(ref)).sort(($taskA, $taskB) => {\n        const taskATime = $taskA.get('lastVisitTime') || 0;\n        const taskBTime = $taskB.get('lastVisitTime') || 0;\n        return taskBTime - taskATime;\n      }),\n    [$tasksRefs, $tasksEntity],\n  );\n\n  const $pinnedTasks = useMemo(\n    () => $tasksRefs.map(ref => $tasksEntity.get(ref)).filter($task => $task.get('isPinned')),\n    [$tasksRefs, $tasksEntity],\n  );\n\n  const pinOneTask = useCallback(\n    ($task) => {\n      const $pinndTask = $task.set('isPinned', true);\n      dispatch(editingTaskActions.effectUpdateTask($pinndTask));\n    },\n    [dispatch],\n  );\n\n  const unpinOneTask = useCallback(\n    ($task) => {\n      const $unpinndTask = $task.set('isPinned', false);\n      dispatch(editingTaskActions.effectUpdateTask($unpinndTask));\n    },\n    [dispatch],\n  );\n\n  const onClickTask = useCallback(\n    ($task) => {\n      history.push(`/todo/${$task.get('id')}`);\n    },\n    [history],\n  );\n\n  return (\n    <React.Fragment>\n      <PinnedTaskList\n        onClickIconButton={unpinOneTask}\n        onClickTask={onClickTask}\n        $tasks={$pinnedTasks}\n      />\n      <RecentTaskList\n        onClickIconButton={pinOneTask}\n        onClickTask={onClickTask}\n        $tasks={$recentTasks}\n      />\n    </React.Fragment>\n  );\n}\n\nHomeContainer.propTypes = {\n  // $recentTaskIds: PropTypes.instanceOf(ImmutableList).isRequired,\n  // $pinnedTaskIds: PropTypes.instanceOf(ImmutableList).isRequired,\n  $tasksEntity: PropTypes.instanceOf(Map).isRequired,\n  $tasksRefs: PropTypes.instanceOf(List).isRequired,\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nHomeContainer.defaultProps = {};\n\nconst mapState = ($state) => {\n  const $task = $state.get('task');\n  return {\n    $recentTaskIds: $task.get('recentTaskIds'),\n    $pinnedTaskIds: $task.get('pinnedTaskIds'),\n    $tasksEntity: $task.getIn(['tasks', 'entity']),\n    $tasksRefs: $task.getIn(['tasks', 'refs']),\n  };\n};\n\nexport default connect(\n  mapState,\n  null,\n)(HomeContainer);\n","/* eslint-disable nonblock-statement-body-position */\nimport React, { useCallback, useEffect, useState } from 'react';\n\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n// import { Redirect } from 'react-router-dom';\n// import { Map, List } from 'immutable';\nimport { Map } from 'immutable';\n\nimport TaskItemList from '../components/TaskItemList';\nimport { taskActions, editingTaskActions } from '../store/actions';\nimport NotFound from '../components/NotFound';\n\nconst mapState = ($state) => {\n  const $global = $state.get('global');\n  const $task = $state.get('task');\n  const $editingTask = $state.get('editingTask');\n  return {\n    showSideMenu: $global.get('showSideMenu'),\n    $tasksEntity: $task.getIn(['tasks', 'entity']),\n    $currentEditingTask: $editingTask.get('currentTask'),\n  };\n};\n\nfunction EditingTaskPageContainer(props) {\n  const {\n    match: {\n      params: { id: taskId },\n    },\n    dispatch,\n    // $tasksEntity,\n    $currentEditingTask,\n  } = props;\n\n  const [isTaskLoaded, setIsTaskLoaded] = useState(false);\n  const [isTaskTaskChanged, setIsTaskTaskChanged] = useState(false);\n\n  useEffect(() => {\n    // 根据taskid加载对应的将要被编辑的任务\n    if (!isTaskLoaded) {\n      // const $target = $tasksEntity.get(taskId) || null;\n      dispatch(editingTaskActions.effectGetTask(taskId));\n      if ($currentEditingTask != null) setIsTaskLoaded(true);\n    }\n  }, [dispatch, taskId, isTaskLoaded, setIsTaskLoaded, $currentEditingTask]);\n\n  useEffect(\n    () => () => {\n      // 因为根据taskId加载任务，所以taskId变化，即任务变化，所以每次切换任务，就要重置编辑历史，重置redo，undo按钮状态\n      // 即使退出也要重置状态，保持状态树的干净\n      dispatch(editingTaskActions.clearAllEdtingHistory());\n      // 退出任务, 重置为null，\n      dispatch(editingTaskActions.changeCurrentTask(null));\n    },\n    [taskId, dispatch],\n  );\n\n  useEffect(() => {\n    if (isTaskLoaded && isTaskTaskChanged) {\n      // 同步到云端 // 乐观更新\n      dispatch(editingTaskActions.effectUpdateTask($currentEditingTask));\n      // 将编辑后的任务保存到原任务上\n      dispatch(taskActions.updateTaskInTasks($currentEditingTask));\n    }\n  }, [isTaskLoaded, isTaskTaskChanged, dispatch, $currentEditingTask]);\n\n  const onCreateNewTaskItem = useCallback(\n    ($newTaskItem) => {\n      dispatch(editingTaskActions.snapshotCurrentTask());\n      dispatch(editingTaskActions.addTaskItemInCurrentTask($newTaskItem));\n      // 因为添加了新任务，所以清空重做任务列表，重置 重做 按钮状态，为了避免编辑状态混乱\n      dispatch(editingTaskActions.clearFutureTasks());\n      setIsTaskTaskChanged(true);\n    },\n    [dispatch],\n  );\n\n  const onClickRemoveButton = useCallback(\n    ($taskItem) => {\n      dispatch(editingTaskActions.snapshotCurrentTask());\n      dispatch(editingTaskActions.removeTaskItemInCurrentTask($taskItem));\n      setIsTaskTaskChanged(true);\n    },\n    [dispatch],\n  );\n\n  if ($currentEditingTask == null) return <NotFound message=\"Loding...\" />;\n\n  return (\n    <TaskItemList\n      onCreateNewTaskItem={onCreateNewTaskItem}\n      onClickRemoveButton={onClickRemoveButton}\n      $task={$currentEditingTask}\n      isEditable\n    />\n  );\n}\n\nEditingTaskPageContainer.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n  $currentEditingTask: PropTypes.instanceOf(Map),\n  // $tasks: PropTypes.instanceOf(List).isRequired,\n  // $tasksEntity: PropTypes.instanceOf(Map).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nEditingTaskPageContainer.defaultProps = {\n  $currentEditingTask: null,\n};\n\nexport default connect(\n  mapState,\n  null,\n)(EditingTaskPageContainer);\n\n// export default EditingTaskPageContainer;\n","import React, { useCallback } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport InputOnEnter from './InputOnEnter';\n\n\nfunction LoginArea(props) {\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleInputUsername = useCallback((evt) => setUsername(evt.target.value), [setUsername]);\n  const handleInputPassword = useCallback((evt) => setPassword(evt.target.value), [setPassword]);\n\n  const { onLogin, disabled } = props;\n\n  const isLogining = disabled;\n\n  const tryLogin = useCallback(() => {\n    // handleClickButton\n    onLogin({\n      username,\n      password,\n    });\n  }, [username, password, onLogin]);\n\n  const isDisabled = isLogining || username.trim() === '' || password.trim() === '';\n\n  const buttonText = isLogining ? '登录中...' : '登录';\n\n  return (\n    <List>\n      <ListItem>\n        <TextField value={username} onChange={handleInputUsername} type=\"text\" label=\"用户名\" fullWidth />\n      </ListItem>\n      <ListItem>\n        <InputOnEnter onEnter={tryLogin} value={password} onChange={handleInputPassword} type=\"password\" label=\"密码\" fullWidth />\n      </ListItem>\n      <ListItem>\n        <Button disabled={isDisabled} variant=\"outlined\" onClick={tryLogin} fullWidth>\n          {buttonText}\n        </Button>\n      </ListItem>\n    </List>\n  );\n}\n\nLoginArea.propTypes = {\n  onLogin: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nLoginArea.defaultProps = {\n  disabled: false,\n};\n\n\nexport default LoginArea;\n","import React, { useCallback } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport InputOnEnter from './InputOnEnter';\n\n\nfunction RegisterArea(props) {\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleInputUsername = useCallback((evt) => setUsername(evt.target.value), [setUsername]);\n  const handleInputPassword = useCallback((evt) => setPassword(evt.target.value), [setPassword]);\n\n  const { onRegister, disabled } = props;\n\n  const tryRegister = useCallback(() => {\n    // handle click register button\n    onRegister({\n      username,\n      password,\n    });\n  }, [username, password, onRegister]);\n\n  const isDisabled = disabled || username.trim() === '' || password.trim() === '';\n\n  return (\n    <List>\n      <ListItem>\n        <TextField placeholder=\"请输入4到16位字母，数字\" value={username} onChange={handleInputUsername} type=\"text\" label=\"用户名\" fullWidth />\n      </ListItem>\n      <ListItem>\n        {/* 这里密码输入用type=text是为了用户视觉上可以确认所输入的密码 */}\n        <InputOnEnter onEnter={tryRegister} placeholder=\"请输入4到16位字母，数字\" value={password} onChange={handleInputPassword} type=\"text\" label=\"密码\" fullWidth />\n      </ListItem>\n      <ListItem>\n        <Button disabled={isDisabled} variant=\"outlined\" onClick={tryRegister} fullWidth>\n          注册\n        </Button>\n      </ListItem>\n    </List>\n  );\n}\n\nRegisterArea.propTypes = {\n  onRegister: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nRegisterArea.defaultProps = {\n  disabled: false,\n};\n\n\nexport default RegisterArea;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map } from 'immutable';\nimport List from '@material-ui/core/List';\nimport { ListItem } from '@material-ui/core';\n\nfunction UserInfo(props) {\n  const { $userInfo } = props;\n\n  return (\n    <List>\n      <ListItem>\n        已经登录，欢迎您!\n      </ListItem>\n      <ListItem>\n        {`用户名: ${$userInfo.get('username')}`}\n      </ListItem>\n    </List>\n  );\n}\n\nUserInfo.propTypes = {\n  $userInfo: PropTypes.instanceOf(Map).isRequired,\n};\n\nUserInfo.defaultProps = {};\n\nexport default UserInfo;\n","import React, { useState, useCallback, useMemo } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { Map } from 'immutable';\n\nimport LoginArea from '../components/LoginArea';\nimport RegisterArea from '../components/RegisterArea';\nimport { globalActions, userActions } from '../store/actions';\nimport { stopEventPropagation, uniqueId } from '../utils';\nimport LoginStatus from '../components/LoginStatus';\nimport Fade from '../components/transitions/Fade';\n\nconst usernamePattern = /^[a-zA-Z0-9_-]{4,16}$/;\nconst passwordPattern = /^[a-zA-Z0-9_-]{4,16}$/;\n\nfunction AccountManagerContainer(props) {\n  const {\n    dispatch,\n    showAccountManager,\n    hasLogin,\n    $userInfo,\n    isLogining,\n    isRegistering,\n  } = props;\n\n  const [tabIndex, setTabIndex] = useState(0);\n\n  const handleClickMask = useCallback(() => {\n    dispatch(globalActions.hideAccountManager());\n  }, [dispatch]);\n\n  const handleTabChange = useCallback((evt, tabIndexChangedTo) => {\n    setTabIndex(tabIndexChangedTo);\n  }, []);\n\n  const handleLogin = useCallback(\n    (userInfo) => {\n      const { username = '', password = '' } = userInfo;\n      if (usernamePattern.test(username) && passwordPattern.test(password)) {\n        dispatch(userActions.effectLogin(userInfo));\n      } else {\n        dispatch(\n          globalActions.addOneNitification({\n            type: 'error',\n            title: '登录失败',\n            detail: '非法用户名或密码，请输入4到16位的字母或数字',\n            key: uniqueId('notify'),\n          }),\n        );\n      }\n    },\n    [dispatch],\n  );\n\n  const handleRegister = useCallback(\n    (userInfo) => {\n      const { username = '', password = '' } = userInfo;\n      if (usernamePattern.test(username) && passwordPattern.test(password)) {\n        dispatch(userActions.effectRegister(userInfo));\n      } else {\n        dispatch(\n          globalActions.addOneNitification({\n            type: 'error',\n            title: '注册失败',\n            detail: '非法用户名或密码，请输入4到16位的字母或数字',\n            key: uniqueId('notify'),\n          }),\n        );\n      }\n    },\n    [dispatch],\n  );\n\n  const handleClickLogoutButton = useCallback(() => {\n    dispatch(userActions.logout());\n  }, [dispatch]);\n\n  const loginArea = useMemo(\n    () => <LoginArea disabled={isLogining} onLogin={handleLogin} />,\n    [isLogining, handleLogin],\n  );\n  const registerArea = useMemo(\n    () => <RegisterArea disabled={isRegistering} onRegister={handleRegister} />,\n    [handleRegister, isRegistering],\n  );\n\n  const tabContentItems = [loginArea, registerArea];\n\n  return (\n    <Fade show={showAccountManager}>\n      <div\n        className=\"AccountManager\"\n        onClick={handleClickMask}\n        style={{\n          position: 'absolute',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          top: '0',\n          left: '0',\n          height: '100%',\n          width: '100%',\n          zIndex: '3000',\n          boxSizing: 'border-box',\n          padding: '0 50px',\n          backgroundColor: 'rgba(0, 0, 0, 0.25)',\n        }}\n      >\n        <Paper onClick={stopEventPropagation}>\n          {hasLogin ? (\n            <>\n              <LoginStatus $userInfo={$userInfo} />\n              <Button\n                fullWidth\n                variant=\"outlined\"\n                onClick={handleClickLogoutButton}\n              >\n                退出\n              </Button>\n            </>\n          ) : (\n            <>\n              <Tabs\n                value={tabIndex}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                onChange={handleTabChange}\n                centered\n              >\n                <Tab label=\"登录\" />\n                <Tab label=\"注册\" />\n              </Tabs>\n              <div>{tabContentItems[tabIndex]}</div>\n            </>\n          )}\n        </Paper>\n      </div>\n    </Fade>\n  );\n}\n\nAccountManagerContainer.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  showAccountManager: PropTypes.bool.isRequired,\n  isLogining: PropTypes.bool.isRequired,\n  isRegistering: PropTypes.bool.isRequired,\n  hasLogin: PropTypes.bool.isRequired,\n  $userInfo: PropTypes.instanceOf(Map),\n};\n\nAccountManagerContainer.defaultProps = {\n  $userInfo: null,\n};\n\nconst mapState = ($state) => ({\n  showAccountManager: $state.getIn(['global', 'showAccountManager']),\n  hasLogin: $state.getIn(['user', 'hasLogin']),\n  isLogining: $state.getIn(['user', 'isLogining']),\n  isRegistering: $state.getIn(['user', 'isRegistering']),\n  $userInfo: $state.getIn(['user', 'userInfo']),\n});\n\nexport default connect(\n  mapState,\n  null,\n)(AccountManagerContainer);\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\n\nimport ErrorIcon from '@material-ui/icons/Clear';\nimport SuccessIcon from '@material-ui/icons/Done';\nimport WarnIcon from '@material-ui/icons/PriorityHigh';\n\nimport PropTypes from 'prop-types';\nimport { Card, CardHeader } from '@material-ui/core';\n\nimport { COLOR_GREEN, COLOR_RED, COLOR_YELLOW } from '../utils/constants';\n\nconst SUCCESS = 'success';\nconst ERROR = 'error';\nconst WARN = 'warn';\n\nconst TYPE_COLOR_MAPPING = {\n  [SUCCESS]: COLOR_GREEN,\n  [ERROR]: COLOR_RED,\n  [WARN]: COLOR_YELLOW,\n};\n\nfunction NotificationCard(props) {\n  const {\n    type, title, style, subtitle,\n  } = props;\n  const iconStyle = {\n    borderRadius: '50%',\n    overflow: 'hidden',\n    color: '#fff',\n    width: '48px',\n    height: '48px',\n    backgroundColor: TYPE_COLOR_MAPPING[type],\n  };\n  let icon = <WarnIcon style={iconStyle} />;\n  if (type === ERROR) icon = <ErrorIcon style={iconStyle} />;\n  if (type === SUCCESS) icon = <SuccessIcon style={iconStyle} />;\n\n  return (\n    <Card style={style}>\n      <CardHeader\n        avatar={icon}\n        title={title}\n        subheader={subtitle}\n        // subheader=\"status: 401\"\n      />\n    </Card>\n  );\n}\n\nNotificationCard.types = {\n  SUCCESS,\n  ERROR,\n  WARN,\n};\n\nNotificationCard.propTypes = {\n  type: PropTypes.oneOf([WARN, ERROR, SUCCESS]),\n  title: PropTypes.node.isRequired,\n  subtitle: PropTypes.node,\n  style: PropTypes.objectOf(PropTypes.string),\n};\n\nNotificationCard.defaultProps = {\n  type: 'none',\n  subtitle: null,\n  style: undefined,\n};\n\n\nexport default NotificationCard;\n","// import React, { useState, useEffect } from 'react';\n// import PropTypes from 'prop-types';\nimport MaterialZoom from '@material-ui/core/Zoom';\n// import { useIsMounted } from '../../hooks';\nimport transitionEnhancer from './transitionEnhancer';\n\n// function Zoom(props) {\n//   const { show: willShow, children, timeout } = props;\n\n//   const [show, setShow] = useState(false);\n\n//   const isMounted = useIsMounted();\n\n//   useEffect(() => {\n//     if (isMounted) setShow(willShow);\n//   }, [isMounted, setShow, willShow]);\n\n//   return (\n//     <MaterialZoom timeout={timeout} in={show}>\n//       {children}\n//     </MaterialZoom>\n//   );\n// }\n\n// Zoom.propTypes = {\n//   children: PropTypes.node.isRequired,\n//   show: PropTypes.bool.isRequired,\n//   timeout: PropTypes.number,\n// };\n\n\n// Zoom.defaultProps = {\n//   timeout: 300,\n// };\n\nexport default transitionEnhancer(MaterialZoom);\n","/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { List } from 'immutable';\n\nimport NotificationCard from '../components/NotificationCard';\nimport Zoom from '../components/transitions/Zoom';\n\nfunction NotificationsPanelContainer(props) {\n  const { $notifications } = props;\n  return (\n    <>\n      <div\n        className=\"NotificationsPanelContainer\"\n        style={{\n          position: 'absolute',\n          top: '0',\n          left: '0',\n          width: '100%',\n          zIndex: '4000',\n          boxSizing: 'border-box',\n          padding: '0 20px',\n        }}\n      >\n        {$notifications.map(({\n          title, key, detail = null, type = 'warn',\n        }) => (\n          <Zoom show key={key}>\n            <NotificationCard\n              style={{ marginTop: '20px' }}\n              type={type}\n              title={title}\n              subtitle={detail}\n            />\n          </Zoom>\n        ))}\n      </div>\n    </>\n  );\n}\n\nNotificationsPanelContainer.propTypes = {\n  // dispatch: PropTypes.func.isRequired,\n  // showAccountManager: PropTypes.bool.isRequired,\n  // isLogining: PropTypes.bool.isRequired,\n  // isRegistering: PropTypes.bool.isRequired,\n  // hasLogin: PropTypes.bool.isRequired,\n  $notifications: PropTypes.instanceOf(List).isRequired,\n};\n\nNotificationsPanelContainer.defaultProps = {};\n\nconst mapState = ($state) => ({\n  $notifications: $state.getIn(['global', 'notifications']),\n  // hasLogin: $state.getIn(['user', 'hasLogin']),\n  // isLogining: $state.getIn(['user', 'isLogining']),\n  // isRegistering: $state.getIn(['user', 'isRegistering']),\n  // $userInfo: $state.getIn(['user', 'userInfo']),\n});\n\nexport default connect(\n  mapState,\n  null,\n)(NotificationsPanelContainer);\n","import React from 'react';\n// import { connect } from 'react-redux';\n// import PropTypes from 'prop-types';\nimport { Switch, Route } from 'react-router-dom';\nimport AppBarContainer from '../../containers/AppBarContainer';\n\nimport SideMenuContainer from '../../containers/SideMenuContainer';\nimport TodoListContainer from '../../containers/TodoListContainer';\nimport HomeContainer from '../../containers/HomeContainer';\nimport EditingTaskPageContainer from '../../containers/EditingTaskPageContainer';\nimport AccountManagerContainer from '../../containers/AccountManagerContainer';\nimport NotificationsPanelContainer from '../../containers/NotificationsPanelContainer';\n\nfunction Index() {\n  return (\n    <div\n      style={{\n        position: 'relative',\n        height: '100vh',\n        display: 'flex',\n        flexFlow: 'column nowrap',\n      }}\n    >\n      <div\n        style={{\n          position: 'relative',\n          flex: '1',\n          overflowY: 'scroll',\n          overflowX: 'hidden',\n        }}\n      >\n        <Switch>\n          <Route path=\"/todo/:id\" component={TodoListContainer} />\n          <Route path=\"/edit/:id\" component={EditingTaskPageContainer} />\n          <Route component={HomeContainer} />\n        </Switch>\n      </div>\n      <NotificationsPanelContainer />\n      <AppBarContainer />\n      <SideMenuContainer />\n      <AccountManagerContainer />\n    </div>\n  );\n}\n\n// Index.propTypes = {\n//   // dispatch: PropTypes.func.isRequired,\n//   // children: PropTypes.node,\n// };\n\n// Index.defaultProps = {\n//   // children: '',\n// };\n\nexport default Index;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getLocalJWT } from '../utils';\nimport { userActions, taskActions } from '../store/actions';\n\nfunction InitWrapperContainer(props) {\n  const { children, dispatch, hasLogin } = props;\n  useEffect(() => {\n    // 自动登录\n    const jwt = getLocalJWT();\n    if (jwt === '' || jwt == null) return;\n    dispatch(userActions.effectGetUserInfo());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (hasLogin) {\n      dispatch(taskActions.effectGetTaskList());\n    }\n  }, [dispatch, hasLogin]);\n\n  return <>{children}</>;\n}\n\nInitWrapperContainer.propTypes = {\n  hasLogin: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapState = ($state) => ({\n  hasLogin: $state.getIn(['user', 'hasLogin']),\n});\n\nexport default connect(\n  mapState,\n  null,\n)(InitWrapperContainer);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router, Route } from 'react-router-dom';\n\nimport Index from './Layout/Index';\n// import TodoListContainer from './containers/TodoListContainer';\n\n// import { isDev } from './env';\n\nimport { store } from './store';\nimport InitWrapperContainer from './containers/InitWrapperContainer';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <InitWrapperContainer>\n        <Router>\n          <Route path=\"/\" component={Index} />\n        </Router>\n      </InitWrapperContainer>\n    </Provider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\n\n// import * as serviceWorker from './serviceWorker';\n\nimport App from './App';\nimport './index.scss';\n// import 'antd/dist/antd.css';\n\nReactDOM.render(React.createElement(App), document.getElementById('root'));\n// serviceWorker.register();\n"],"sourceRoot":""}