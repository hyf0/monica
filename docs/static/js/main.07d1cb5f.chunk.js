(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),c=n(0),i=n.n(c),o=n(17),l=n(39),s=n(33),u=n(72),d=n(13),E=n(14),f=n(149),k=n(150),m=n(147),p=n(78),b=n.n(p),T=n(76),g=n.n(T),v=n(117),C=function(){return{type:"SHOW_SIDE_MENU"}},h=function(){return{type:"HIDE_SIDE_MENU"}},y=function(e){return{type:"CREATE_TASK",payload:e}},_=function(e){return{type:"REMOVE_TASK",payload:e}},O=function(e){return{type:"CHANGE_CURRENT_TASK",payload:e}},I=function(e){return{type:"CHANGE_CURRENT_EDITTING_TASK",payload:e}},j=function(e){return{type:"ADD_NEW_ITEM_IN_CURRENT_EDITING_TASK",payload:e}},w=function(e){return{type:"REMOVE_ITEM_IN_CURRENT_EDITING_TASK",payload:e}},$=function(){return{type:"SYNC_CURRENT_EDITING_TASK_TO_TASKS"}},N=function(){return{type:"RESET_IS_EDITING_TASK_EDITED",payload:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},S=function(e){return{type:"TOGGLE_TASK_ITEM_CHECKED",payload:e}},R=n(16),M=function(e){var t=e.$tasksItems,n=e.dispatch,a=e.history,r=t.size,o=Object(c.useMemo)(function(){return t.count(function(e){return e.get("checked")})},[t]),l=r===o,s=Object(c.useCallback)(function(){l?a.push("/"):n({type:"COMPLETE_THE_FIRST_UNCHECKED_TASK_ITEM"})},[n,l,a]),u=l?"\u5168\u90e8\u5b8c\u6210(".concat(o,"/").concat(r,")"):"\u5b8c\u6210\u4e00\u4e2a\u4efb\u52a1\u9879(".concat(o,"/").concat(r,")"),d=l?"#00e500":"#ff5722";return i.a.createElement(m.a,{style:{flex:"1",backgroundColor:d,color:"#fff"},variant:"extended",size:"medium","aria-label":"add",onClick:s},u)};M.defaultProps={$tasksItems:new R.List};var x=Object(o.b)(function(e){var t=e.$global;return{isEditingTaskEdited:t.get("isEditingTaskEdited"),$tasksItems:t.getIn(["$currentTask","$items"])}},null)(M);function A(){var e=Object(d.a)(["\n        flex: 0 0 60px;\n      "]);return A=function(){return e},e}var K=function(e){var t=e.onClick,n=e.isEditingTaskEdited;return i.a.createElement(m.a,{disabled:!n,style:{flex:"1",backgroundColor:n?"#2196f3":"#9e9e9e",color:"#fff"},variant:"extended",size:"medium","aria-label":"add",onClick:t},"\u4fdd\u5b58\u4fee\u6539")},D=function(e){var t=e.onClick;return i.a.createElement(m.a,{style:{flex:"1",backgroundColor:"#2196f3",color:"#fff"},variant:"extended",size:"medium",color:"primary","aria-label":"add",onClick:t},"\u5f00\u59cb\u4e00\u9879\u4efb\u52a1")};function B(e){var t=e.dispatch,n=e.isEditingTaskEdited,a=Object(c.useCallback)(function(){t(C())},[t]),r=Object(c.useCallback)(function(){t($()),t(N(!1))},[t]),o=Object(c.useCallback)(function(){t(C())},[t]);return i.a.createElement(f.a,{style:{backgroundColor:"white"},className:Object(E.a)(A()),position:"static"},i.a.createElement(k.a,null,i.a.createElement(v.a,{edge:"start",onClick:a},i.a.createElement(g.a,null)),i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/edit",render:function(){return i.a.createElement(K,{isEditingTaskEdited:n,onClick:r})}}),i.a.createElement(s.b,{path:"/todo",component:x}),i.a.createElement(s.b,{render:function(){return i.a.createElement(D,{onClick:o})}})),i.a.createElement(v.a,{edge:"end"},i.a.createElement(b.a,null))))}B.defaultProps={};var U=Object(o.b)(function(e){var t=e.$global;return{isEditingTaskEdited:t.get("isEditingTaskEdited"),$currentTaskItems:t.getIn(["$currentTask","$items"])}},null)(B),G=n(40),H=n(46),P=n.n(H),L=n(81),W=n.n(L),z=n(154),F=n(155),V=n(51),J=n(156),Y=n(157),q=n(153),Q=n(162),X=n(152),Z=n(151);function ee(e){var t=e.title,n=e.children,a=""===t?null:i.a.createElement(Z.a,{component:"div",id:"nested-list-subheader"},t);return i.a.createElement("div",null,i.a.createElement(X.a,{style:{width:"100%"},component:"nav",subheader:a},n))}ee.defaultProps={title:"",children:i.a.createElement("div",null,"default props")};var te=ee;function ne(){var e=Object(d.a)(["\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      "]);return ne=function(){return e},e}function ae(){var e=Object(d.a)(["\n  .slow-fade-enter {\n    opacity: 0;\n  }\n  .slow-fade-enter-active {\n    opacity: 1;\n    transition: all 600ms ease-out;\n  }\n  .slow-fade-exit {\n    opacity: 1;\n  }\n  .slow-fade-exit-active {\n    opacity: 0;\n    transition: all 600ms ease-out;\n  }\n"]);return ae=function(){return e},e}var re=Object(E.a)(ae()),ce=function(e){var t=e.$task,n=e.onClickTask,a=e.onClickEditTaskButton,r=e.onClickRemoveTaskButton,c=e.isEditable;return i.a.createElement(q.a,{key:t.get("id"),timeout:600,classNames:"slow-fade"},i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{style:{height:"48px"},onClick:function(){return n(t)},button:!c},i.a.createElement(F.a,{primary:t.get("title")}),c?i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{onClick:function(e){return a(e,t)}},i.a.createElement(W.a,null)),i.a.createElement(v.a,{onClick:function(e){return r(e,t)}},i.a.createElement(P.a,null))):null)))};function ie(e){var t=e.onClickTask,n=e.onClickEditTaskButton,a=e.onClickRemoveTaskButton,r=e.$tasks,o=e.isEditable,l=e.onClickSwitchButton,s=Object(c.useCallback)(function(e){return function(t){t.stopPropagation();for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.apply(void 0,a)}},[]),u=i.a.createElement("div",{className:Object(E.a)(ne())},i.a.createElement("div",{className:"left"},i.a.createElement(V.a,null,"\u4efb\u52a1\u5217\u8868")),i.a.createElement("div",{className:"right"},i.a.createElement(V.a,null,"\u7f16\u8f91",i.a.createElement(J.a,{onClick:l,checked:o,color:"primary"}))));return i.a.createElement(te,{title:u},i.a.createElement(Y.a,null),i.a.createElement(Q.a,{className:re},r.map(function(e){return ce({$task:e,isEditable:o,onClickTask:t,onClickRemoveTaskButton:s(a),onClickEditTaskButton:s(n)})})))}ie.defaultProps={onClickTask:function(){console.log("onClickTask")},onClickRemoveTaskButton:function(){console.log("onClickRemoveTaskButton")},onClickEditTaskButton:function(){console.log("onClickEditTaskButton")},onClickSwitchButton:function(){console.log("onClickSwitchButton")},isEditable:!1};var oe=ie;var le=Object(s.g)(Object(o.b)(function(e){var t=e.$global;return{showSideMenu:t.get("showSideMenu"),$tasks:t.get("$tasks")}},null)(function(e){var t=e.$tasks,n=e.dispatch,a=e.history,r=Object(c.useState)(!1),o=Object(G.a)(r,2),l=o[0],s=o[1],u=Object(c.useCallback)(function(){s(!l)},[s,l]),d=Object(c.useCallback)(function(e){n(N(!1)),n(I(e)),n(h()),a.push("/edit/".concat(e.get("id")))},[n,a]),E=Object(c.useCallback)(function(e){n(_(e))},[n]),f=Object(c.useCallback)(function(e){l||(n(h()),n(O(e)),a.push("/todo/".concat(e.get("id"))))},[n,a,l]);return i.a.createElement(oe,{onClickEditTaskButton:d,onClickRemoveTaskButton:E,onClickTask:f,isEditable:l,onClickSwitchButton:u,$tasks:t})})),se=n(159);function ue(e){var t=e.onCreateTask,n=Object(c.useState)(""),a=Object(G.a)(n,2),r=a[0],o=a[1],l=Object(c.useCallback)(function(e){o(e.target.value)},[]),s=Object(c.useCallback)(function(e){var n=e.keyCode,a=void 0===n?-1:n;0!==r.length&&13===a&&(t(r),o(""))},[r,o,t]);return i.a.createElement(te,{title:"\u83dc\u5355\u9879"},i.a.createElement(Y.a,null),i.a.createElement(z.a,{button:!0},i.a.createElement(se.a,{label:"\u521b\u5efa\u65b0\u4efb\u52a1",onChange:l,onKeyUp:s,type:"text",value:r,margin:"normal",variant:"outlined",fullWidth:!0})))}ue.defaultProps={onCreateTask:function(){console.log("onCreateTask")}};var de=ue,Ee=function(){var e=-1;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,0===t.length?"".concat("develoopment"," - ").concat(e):"".concat(t," - ").concat("develoopment"," - ").concat(e)}}();var fe=Object(o.b)(function(){return{}},null)(function(e){var t=e.dispatch,n=Object(c.useCallback)(function(e){t(y(Object(R.Map)({title:e,id:Ee(),$items:new R.List})))},[t]);return i.a.createElement(de,{onCreateTask:n})});function ke(){var e=Object(d.a)(["\n  transition: transform 300ms ease-out;\n\n  &.slide-right-appear {\n    transform: translate(-100%, 0);\n  }\n  &.slide-right-appear-active {\n    transform: translate(0, 0);\n  }\n  &.slide-right-enter {\n    transform: translate(-100%, 0);\n  }\n  &.slide-right-enter-active {\n    transform: translate(0, 0);\n  }\n  &.slide-right-exit {\n    transform: translate(0, 0);\n  }\n  &.slide-right-exit-active {\n    transform: translate(-100%, 0);\n  }\n"]);return ke=function(){return e},e}function me(){var e=Object(d.a)(["\n  .slow-fade-enter {\n    opacity: 0;\n  }\n  .slow-fade-enter-active {\n    opacity: 1;\n    transition: all 1000ms ease-out;\n  }\n  .slow-fade-exit {\n    opacity: 1;\n  }\n  .slow-fade-exit-active {\n    opacity: 0;\n    transition: all 1000ms ease-out;\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(d.a)(["\n  transition: opacity 300ms ease-out;\n  display: none;\n  &.fade-enter {\n    opacity: 0;\n    display: block;\n  }\n  &.fade-enter-active {\n    opacity: 1;\n    display: block;\n  }\n  &.fade-enter-done {\n    opacity: 1;\n    display: block;\n  }\n  &.fade-exit {\n    opacity: 1;\n    display: block;\n  }\n  &.fade-exit-active {\n    opacity: 0;\n    display: block;\n  }\n"]);return pe=function(){return e},e}var be=Object(E.a)(pe()),Te=(Object(E.a)(me()),Object(E.a)(ke()));function ge(){var e=Object(d.a)(["\n                width: 65%;\n                max-width: 375px;\n                height: 100%;\n                background-color: #fff;\n                overflow-y: scroll; /* \u9632\u6b62\u5b50margin-top\u5f71\u54cd\u7236margin-top */\n                overflow-x: hidden;\n              "]);return ge=function(){return e},e}function ve(){var e=Object(d.a)(["\n            position: absolute;\n            background-color: rgba(0, 0, 0, 0.3);\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            z-index: 2000;\n          "]);return ve=function(){return e},e}function Ce(e){var t=e.show,n=e.children,a=e.onClickMask,r=Object(c.useCallback)(function(e){e.stopPropagation()},[]);return i.a.createElement(q.a,{classNames:"fade",in:t,timeout:300,appear:!0},i.a.createElement("div",{onClick:a,role:"button",className:[Object(E.a)(ve()),be].join(" ")},i.a.createElement(q.a,{classNames:"slide-right",timeout:300,in:t,appear:!0},i.a.createElement("div",{onClick:r,className:[Object(E.a)(ge()),Te].join(" ")},n))))}Ce.defaultProps={show:!0,onClickMask:function(){console.log("onClickMask")},children:i.a.createElement("div",null,"default menu content")};var he=Ce;var ye=Object(o.b)(function(e){return{showSideMenu:e.$global.get("showSideMenu")}},null)(function(e){var t=e.dispatch,n=e.showSideMenu,a=Object(c.useCallback)(function(){t(h())},[t]);return i.a.createElement(he,{show:n,onClickMask:a},i.a.createElement(le,null),i.a.createElement(fe,null))}),_e=n(160),Oe=n(158);function Ie(){var e=Object(d.a)(["\n  .slow-fade-enter {\n    opacity: 0;\n  }\n  .slow-fade-enter-active {\n    opacity: 1;\n    transition: all 300ms ease-out;\n  }\n  .slow-fade-exit {\n    opacity: 1;\n  }\n  .slow-fade-exit-active {\n    opacity: 0;\n    transition: all 300ms ease-out;\n  }\n"]);return Ie=function(){return e},e}var je=Object(E.a)(Ie());function we(e){var t=e.$task,n=e.onCreateNewTaskItem,a=e.onClickRemoveButton,r=e.isEditable,o=e.onClickCheckbox,l=Object(c.useState)(""),s=Object(G.a)(l,2),u=s[0],d=s[1],E=Object(c.useCallback)(function(e){d(e.target.value)},[]),f=Object(c.useCallback)(function(e){var t=e.keyCode,a=void 0===t?-1:t,r=e.target.value;0!==r.length&&13===a&&(n(Object(R.Map)({id:Ee(),title:r,checked:!1})),d(""))},[d,n]);return i.a.createElement(X.a,null,i.a.createElement(z.a,{dense:!0},i.a.createElement(V.a,{variant:"h4",gutterBottom:!0},t.get("title"))),i.a.createElement(Q.a,{className:je},t.get("$items").map(function(e){return i.a.createElement(q.a,{key:e.get("id"),timeout:300,classNames:"slow-fade"},i.a.createElement(i.a.Fragment,{key:e.get("id")},i.a.createElement(z.a,null,i.a.createElement(_e.a,{onClick:function(){return o(e)},edge:"start",checked:e.get("checked")}),i.a.createElement(F.a,{primary:e.get("title")}),r?i.a.createElement(v.a,{onClick:function(){return a(e)}},i.a.createElement(P.a,null)):null),i.a.createElement(Y.a,{variant:"middle"})))})),r?i.a.createElement(z.a,{button:!0},i.a.createElement(Oe.a,{value:u,onKeyUp:f,onChange:E,placeholder:"\u65b0\u589e\u5f85\u505a\u4e8b\u9879",fullWidth:!0})):null)}we.defaultProps={onCreateNewTaskItem:function(){console.log("onCreateNewTaskItem")},onClickRemoveButton:function(){console.log("onCreateNewTaskItem")},onClickCheckbox:function(){console.log("onClickCheckbox")},isEditable:!1};var $e=we,Ne="edit",Se="todo";function Re(e){var t,n=e.match.params.action,a=e.dispatch;n===Ne?t=e.$currentEditingTask:n===Se&&(t=e.$currentTask);var r=n===Ne,o=Object(c.useCallback)(function(e){a(j(e)),a(N(!0))},[a]),l=Object(c.useCallback)(function(e){a(w(e)),a(N(!0))},[a]),u=Object(c.useCallback)(function(e){r||a(S(e))},[a,r]);return null==t?i.a.createElement(s.a,{to:"/"}):i.a.createElement($e,{onCreateNewTaskItem:o,onClickRemoveButton:l,onClickCheckbox:u,$task:t,isEditable:r})}Re.defaultProps={$currentEditingTask:new R.Map,$currentTask:new R.Map};var Me=Object(o.b)(function(e){var t=e.$global;return{showSideMenu:t.get("showSideMenu"),$currentEditingTask:t.get("$currentEditingTask"),$currentTask:t.get("$currentTask"),$tasks:t.get("$tasks")}},null)(Re);function xe(){var e=Object(d.a)(["\n          position: relative;\n          flex: 1;\n          overflow-y: scroll;\n          overflow-x: hidden;\n        "]);return xe=function(){return e},e}function Ae(){var e=Object(d.a)(["\n        position: relative;\n        height: 100vh;\n        display: flex;\n        flex-flow: column nowrap;\n      "]);return Ae=function(){return e},e}var Ke=function(){return i.a.createElement("div",{className:Object(E.a)(Ae())},i.a.createElement("div",{className:Object(E.a)(xe())},i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/:action/:id",component:Me}),i.a.createElement(s.b,{component:le}))),i.a.createElement(U,null),i.a.createElement(ye,null))},De=n(22),Be=n(50),Ue=n(82),Ge=n.n(Ue),He=n(83),Pe=n.n(He),Le=Object(R.fromJS)({showSideMenu:!1,$tasks:[{id:Ee(),title:"\u521b\u5efa\u4e00\u4e2a\u4efb\u52a1",$items:[{id:Ee(),title:"\u521b\u5efa\u4efb\u52a1: \u5728\u4fa7\u83dc\u5355\u680f\u4e2d\u7684\u8f93\u5165\u6846\u5185\u6309\u56de\u8f66",checked:!1},{id:Ee(),title:"\u7f16\u8f91\u4efb\u52a1: \u5728\u4fa7\u83dc\u5355\u680f\u4e2d\u6253\u5f00\u7f16\u8f91\u6a21\u5f0f",checked:!1},{id:Ee(),title:"\u6dfb\u52a0\u4efb\u52a1\u9879: \u6253\u5f00\u7f16\u8f91\u6a21\u5f0f\u540e\uff0c\u70b9\u51fb\u7f16\u8f91\u6309\u94ae",checked:!1},{id:Ee(),title:"\u4fdd\u5b58: \u7f16\u8f91\u540e\uff0c\u70b9\u51fb\u4e0b\u65b9\u84dd\u8272\u6309\u94ae\u4fdd\u5b58",checked:!1},{id:Ee(),title:"\u5f00\u59cb\u4e00\u9879\u4efb\u52a1: \u5728\u975e\u7f16\u8f91\u6a21\u5f0f\u4e0b\u70b9\u51fb\u4efb\u52a1\u5373\u53ef",checked:!1}]}],$currentTask:null,$currentEditingTask:null,isEditingTaskEdited:!1}),We=Object(De.b)({$global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;if("undefined"===typeof t.type)throw new Error("action: ".concat(t," does not has type!"));switch(t.type){case"SHOW_SIDE_MENU":return e.set("showSideMenu",!0);case"HIDE_SIDE_MENU":return e.set("showSideMenu",!1);case"CREATE_TASK":var n=t.payload;return e.set("$tasks",e.get("$tasks").concat([n]));case"REMOVE_TASK":var a=t.payload;return e.set("$tasks",e.get("$tasks").filter(function(e){return e.get("id")!==a.get("id")}));case"CHANGE_CURRENT_TASK":var r=t.payload;return e.set("$currentTask",r);case"CHANGE_CURRENT_EDITTING_TASK":var c=t.payload;return e.set("$currentEditingTask",c);case"ADD_NEW_ITEM_IN_CURRENT_EDITING_TASK":var i=t.payload,o=["$currentEditingTask","$items"];return e.setIn(o,e.getIn(o).concat([i]));case"REMOVE_ITEM_IN_CURRENT_EDITING_TASK":var l=t.payload,s=["$currentEditingTask","$items"];return e.setIn(s,e.getIn(s).filter(function(e){return e.get("id")!==l.get("id")}));case"SYNC_CURRENT_EDITING_TASK_TO_TASKS":return e.set("$tasks",e.get("$tasks").filter(function(t){return t.id!==e.getIn(["$currentEditingTask","id"])}).concat([e.get("$currentEditingTask")]));case"RESET_IS_EDITING_TASK_EDITED":var u=t.payload;return e.set("isEditingTaskEdited",u);case"COMPLETE_THE_FIRST_UNCHECKED_TASK_ITEM":var d=["$currentTask","$items"],E=e.getIn(d).findKey(function(e){return!1===e.get("checked")});return null==E?e:e.setIn(d.concat([E,"checked"]),!0);case"COMPLETE_ALL_UNCHECKED_TASK_ITEM":var f=["$currentTask","$items"];return e.setIn(f,e.getIn(f).map(function(e){return e.set("checked",!0)}));case"TOGGLE_TASK_ITEM_CHECKED":var k=t.payload,m=["$currentTask","$items"],p=e.getIn(m).findKey(function(e){return e.get("id")===k.get("id")}),b=m.concat([p,"checked"]);return e.setIn(b,!e.getIn(b));default:return e}}}),ze={transforms:[Pe()()],key:"root",storage:Ge.a},Fe=Object(Be.persistReducer)(ze,We),Ve=Object(De.c)(Fe),Je=Object(Be.persistStore)(Ve);var Ye=function(){return i.a.createElement(o.a,{store:Ve},i.a.createElement(u.a,{persistor:Je,loading:i.a.createElement("div",null,"loding...")},i.a.createElement(l.a,null,i.a.createElement(s.b,{path:"/",component:Ke}))))};n(114);r.a.render(i.a.createElement(Ye),document.getElementById("root"))},91:function(e,t,n){e.exports=n(115)}},[[91,1,2]]]);
//# sourceMappingURL=main.07d1cb5f.chunk.js.map