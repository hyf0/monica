(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{220:function(e,t,a){"use strict";a.r(t);var n=a(56),l=a(0),r=a.n(l),i=a(119),c=a(219),u=a(217),o=a(17),s=a(204),d=(a(11),a(203)),b=a(53),f=a(197),g=a(198),m=a(160),p=a(71);function E(e){var t=r.a.useState(""),a=Object(n.a)(t,2),i=a[0],c=a[1],u=r.a.useState(""),o=Object(n.a)(u,2),d=o[0],b=o[1],E=Object(l.useCallback)(function(e){return c(e.target.value)},[c]),v=Object(l.useCallback)(function(e){return b(e.target.value)},[b]),O=e.onLogin,j=e.disabled,C=Object(l.useCallback)(function(){O({username:i,password:d})},[i,d,O]),h=j||""===i.trim()||""===d.trim(),k=j?"\u767b\u5f55\u4e2d...":"\u767b\u5f55";return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(m.a,{value:i,onChange:E,type:"text",label:"\u7528\u6237\u540d",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(p.a,{onKeyEnterUp:C,value:d,onChange:v,type:"password",label:"\u5bc6\u7801",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(s.a,{disabled:h,variant:"outlined",onClick:C,fullWidth:!0},k)))}E.defaultProps={disabled:!1};var v=E;function O(e){var t=r.a.useState(""),a=Object(n.a)(t,2),i=a[0],c=a[1],u=r.a.useState(""),o=Object(n.a)(u,2),d=o[0],b=o[1],E=Object(l.useCallback)(function(e){return c(e.target.value)},[c]),v=Object(l.useCallback)(function(e){return b(e.target.value)},[b]),O=e.onRegister,j=e.disabled,C=Object(l.useCallback)(function(){O({username:i,password:d})},[i,d,O]),h=j||""===i.trim()||""===d.trim();return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\u5b57\u6bcd\uff0c\u6570\u5b57",value:i,onChange:E,type:"text",label:"\u7528\u6237\u540d",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(p.a,{onKeyEnterUp:C,placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\u5b57\u6bcd\uff0c\u6570\u5b57",value:d,onChange:v,type:"text",label:"\u5bc6\u7801",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(s.a,{disabled:h,variant:"outlined",onClick:C,fullWidth:!0},"\u6ce8\u518c")))}O.defaultProps={disabled:!1};var j=O;function C(e){var t=e.$userInfo;return r.a.createElement(f.a,null,r.a.createElement(g.a,null,"\u5df2\u7ecf\u767b\u5f55\uff0c\u6b22\u8fce\u60a8!"),r.a.createElement(g.a,null,"\u7528\u6237\u540d: ".concat(t.get("username"))))}C.defaultProps={};var h=C,k=a(7),y=a(14),w=/^[a-zA-Z0-9_-]{4,16}$/,I=/^[a-zA-Z0-9_-]{4,16}$/;function x(e){var t=e.dispatch,a=e.hasLogin,o=e.$userInfo,f=e.isLogining,g=e.isRegistering,m=Object(l.useState)(0),p=Object(n.a)(m,2),E=p[0],O=p[1],C=Object(b.f)(),x=Object(l.useState)(!0),L=Object(n.a)(x,2),S=L[0],W=L[1],$=Object(l.useCallback)(function(){W(!1)},[W]),R=Object(l.useCallback)(function(){C.push("/")},[]),z=Object(l.useCallback)(function(e,t){O(t)},[]),P=Object(l.useCallback)(function(e){var a=e.username,n=void 0===a?"":a,l=e.password,r=void 0===l?"":l;w.test(n)&&I.test(r)?t(k.g.effectLogin(e)):t(k.c.addOneNitification({type:"error",title:"\u767b\u5f55\u5931\u8d25",detail:"\u975e\u6cd5\u7528\u6237\u540d\u6216\u5bc6\u7801\uff0c\u8bf7\u8f93\u51654\u523016\u4f4d\u7684\u5b57\u6bcd\u6216\u6570\u5b57",key:Object(y.g)("notify")}))},[t]),A=Object(l.useCallback)(function(e){var a=e.username,n=void 0===a?"":a,l=e.password,r=void 0===l?"":l;w.test(n)&&I.test(r)?t(k.g.effectRegister(e)):t(k.c.addOneNitification({type:"error",title:"\u6ce8\u518c\u5931\u8d25",detail:"\u975e\u6cd5\u7528\u6237\u540d\u6216\u5bc6\u7801\uff0c\u8bf7\u8f93\u51654\u523016\u4f4d\u7684\u5b57\u6bcd\u6216\u6570\u5b57",key:Object(y.g)("notify")}))},[t]),M=Object(l.useCallback)(function(){t(k.g.logout())},[t]),N=[Object(l.useMemo)(function(){return r.a.createElement(v,{disabled:f,onLogin:P})},[f,P]),Object(l.useMemo)(function(){return r.a.createElement(j,{disabled:g,onRegister:A})},[A,g])];return r.a.createElement(d.a,{in:S,onExited:R},r.a.createElement("div",{className:"AccountManager",onClick:$,style:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:"0",left:"0",height:"100%",width:"100%",zIndex:"3000",boxSizing:"border-box",padding:"0 50px",backgroundColor:"rgba(0, 0, 0, 0.25)"}},r.a.createElement(i.a,{onClick:y.f},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{$userInfo:o}),r.a.createElement(s.a,{fullWidth:!0,variant:"outlined",onClick:M},"\u9000\u51fa")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{value:E,indicatorColor:"primary",textColor:"primary",onChange:z,centered:!0},r.a.createElement(u.a,{label:"\u767b\u5f55"}),r.a.createElement(u.a,{label:"\u6ce8\u518c"})),r.a.createElement("div",null,N[E])))))}x.defaultProps={$userInfo:null};t.default=Object(o.b)(function(e){return{hasLogin:e.getIn(["user","hasLogin"]),isLogining:e.getIn(["user","isLogining"]),isRegistering:e.getIn(["user","isRegistering"]),$userInfo:e.getIn(["user","userInfo"])}},null)(x)}}]);
//# sourceMappingURL=5.8f654a09.chunk.js.map