(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[0],{103:function(e,t,n){e.exports=n(141)},112:function(e,t,n){},130:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"SET_IS_LOGINING",(function(){return P})),n.d(r,"SET_USER",(function(){return h})),n.d(r,"LOGOUT",(function(){return C}));var a={};n.r(a),n.d(a,"SET_IS_SHOW_ASIDE_MENU",(function(){return v})),n.d(a,"PUSH_NOTIFICATION",(function(){return I})),n.d(a,"SHIFT_NOTIFICATION",(function(){return k}));var c={};n.r(c),n.d(c,"SET_PROJECTS",(function(){return S})),n.d(c,"SET_TODO_PROJECT",(function(){return N})),n.d(c,"CLEAR_TODO_PROJECT",(function(){return y})),n.d(c,"SET_IS_FETCHING_TODO_PROJECT",(function(){return R})),n.d(c,"ADD_PROJECT",(function(){return D})),n.d(c,"DEL_PROJECT_BY_ID",(function(){return w})),n.d(c,"TOGGLE_CHECK_TASK_IN_TODO_PROJECT_BY_ID",(function(){return A})),n.d(c,"SET_EDITING_PROJECT",(function(){return G})),n.d(c,"CLEAR_EDITING_PROJECT",(function(){return J})),n.d(c,"SET_IS_FETCHING_EDITING_PROJECT",(function(){return x})),n.d(c,"ADD_TASK_TO_EDITING_PROJECT",(function(){return L})),n.d(c,"DEL_TASK_IN_EDITING_PROJECT",(function(){return H})),n.d(c,"SET_ONE_PROJECT_IS_PINEED_BY_ID",(function(){return F})),n.d(c,"CHANGE_EDITING_PROJECT_NAME",(function(){return U})),n.d(c,"CHANGE_PROJECT_NAME_BY_ID",(function(){return B})),n.d(c,"SNAPSHOT_EDITINGP_PROJECT",(function(){return M})),n.d(c,"REDO_EDITING_PROJECT",(function(){return $})),n.d(c,"UNDO_EDITING_PROJECT",(function(){return W})),n.d(c,"CLEAR_EDITING_HISTORY",(function(){return Y})),n.d(c,"CLEAR_EDITING_PROJECT_FUTURE",(function(){return K}));var u={};n.r(u),n.d(u,"createSetIsLoginning",(function(){return ce})),n.d(u,"createSetUser",(function(){return ue})),n.d(u,"createLogout",(function(){return oe}));var o={};n.r(o),n.d(o,"createSetIsShowAsideMenu",(function(){return ie})),n.d(o,"createPushNotification",(function(){return le})),n.d(o,"createShiftNotification",(function(){return se}));var i={};n.r(i),n.d(i,"createSetProjects",(function(){return de})),n.d(i,"createToggleCheckTaskInTodoProjectById",(function(){return fe})),n.d(i,"createSetTodoProject",(function(){return Ee})),n.d(i,"createSetIsFetchingTodoProject",(function(){return pe})),n.d(i,"createClearTodoProject",(function(){return je})),n.d(i,"createAddProject",(function(){return Oe})),n.d(i,"createDelProjectById",(function(){return me})),n.d(i,"createSetIsFetchingEditingProject",(function(){return be})),n.d(i,"createSetEditingProject",(function(){return _e})),n.d(i,"createClearEditingProject",(function(){return Te})),n.d(i,"createAddTaskToEditingProject",(function(){return ge})),n.d(i,"createDelTaskToEditingProject",(function(){return Pe})),n.d(i,"createSetOneProjectIsPinnedById",(function(){return he})),n.d(i,"createChangeEditingProjectName",(function(){return Ce})),n.d(i,"createChangeProjectNameById",(function(){return ve})),n.d(i,"createSnapshotEditingpProject",(function(){return Ie})),n.d(i,"createRedoEditingProject",(function(){return ke})),n.d(i,"createUndoEditingProject",(function(){return Se})),n.d(i,"createClearEditingHistory",(function(){return Ne})),n.d(i,"createClearEditingProjectFuture",(function(){return ye}));var l={};n.r(l),n.d(l,"login",(function(){return Ye})),n.d(l,"logout",(function(){return Ke})),n.d(l,"register",(function(){return qe}));var s={};n.r(s),n.d(s,"getProject",(function(){return Xe})),n.d(s,"patchProject",(function(){return Qe}));var d={};n.r(d),n.d(d,"getProjects",(function(){return ot})),n.d(d,"getTodoProject",(function(){return it})),n.d(d,"getEditingProject",(function(){return lt})),n.d(d,"createProject",(function(){return st})),n.d(d,"delProjectById",(function(){return dt})),n.d(d,"createTask",(function(){return ft})),n.d(d,"delTask",(function(){return Et})),n.d(d,"setProjectIsPinned",(function(){return pt})),n.d(d,"saveEditingProjectName",(function(){return jt})),n.d(d,"redoEditingProject",(function(){return Ot})),n.d(d,"undoEditingProject",(function(){return mt}));var f={};n.r(f),n.d(f,"pushNotification",(function(){return bt}));var E=n(0),p=n.n(E),j=n(10),O=n.n(j),m=n(25),b=n(8),_=n(44),T=n(86),g=n(46),P="SET_IS_LOGINING",h="SET_USER",C="LOGOUT",v="SET_IS_SHOW_ASIDE_MENU",I="PUSH_NOTIFICATION",k="SHIFT_NOTIFICATION",S="SET_PROJECTS",N="SET_TODO_PROJECT",y="CLEAR_TODO_PROJECT",R="SET_IS_FETCHING_TODO_PROJECT",D="ADD_PROJECT",w="DEL_PROJECT_BY_ID",A="TOGGLE_CHECK_TASK_IN_TODO_PROJECT_BY_ID",G="SET_EDITING_PROJECT",J="CLEAR_EDITING_PROJECT",x="SET_IS_FETCHING_EDITING_PROJECT",L="ADD_TASK_TO_EDITING_PROJECT",H="DEL_TASK_IN_EDITING_PROJECT",F="SET_ONE_PROJECT_IS_PINEED",U="CHANGE_EDITING_PROJECT_NAME",B="CHANGE_PROJECT_NAME_BY_ID",M="SNAPSHOT_EDITINGP_PROJECT",$="REDO_EDITING_PROJECT",W="UNDO_EDITING_PROJECT",Y="CLEAR_EDITING_HISTORY",K="CLEAR_EDITING_PROJECT_FUTURE",q={isLogining:!1,user:null,isRegistering:!1};var z={isShowAsideMenu:!1,notifications:[]};var Z={projects:null,todoProject:null,isFetchingTodoProject:!1,isFetchingEditingProject:!1,editingProject:{prev:[],current:null,currentIndex:-1,future:[]}};var X={user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(e){var n=t.type,a=t.payload;switch(n){case r.SET_IS_LOGINING:e.isLogining=a;break;case r.SET_USER:e.user=a;break;case r.LOGOUT:e.user=null}}))},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case a.SET_IS_SHOW_ASIDE_MENU:e.isShowAsideMenu=r;break;case a.PUSH_NOTIFICATION:e.notifications.push(r);break;case a.SHIFT_NOTIFICATION:e.notifications.shift()}}))},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case c.SET_PROJECTS:e.projects=r;break;case c.SET_TODO_PROJECT:e.todoProject=r;break;case c.CLEAR_TODO_PROJECT:e.todoProject=null;break;case c.SET_IS_FETCHING_TODO_PROJECT:e.isFetchingTodoProject=r;break;case c.SET_IS_FETCHING_EDITING_PROJECT:e.isFetchingEditingProject=r;break;case c.SET_EDITING_PROJECT:e.editingProject.current=r;break;case c.CLEAR_EDITING_PROJECT:e.editingProject.current=null;break;case c.ADD_PROJECT:null!=e.projects&&e.projects.push(r);break;case c.DEL_PROJECT_BY_ID:var a=r;null!=e.projects&&(e.projects=e.projects.filter((function(e){return e.id!==a})));break;case c.ADD_TASK_TO_EDITING_PROJECT:null!=e.editingProject.current&&e.editingProject.current.tasks.push(r);break;case c.DEL_TASK_IN_EDITING_PROJECT:var u=r;null!=e.editingProject.current&&(e.editingProject.current.tasks=e.editingProject.current.tasks.filter((function(e){return e.id!==u})));break;case c.TOGGLE_CHECK_TASK_IN_TODO_PROJECT_BY_ID:if(null==e.todoProject)break;var o=r;e.todoProject.tasks.some((function(e){return e.id===o&&(e.checked=!e.checked,!0)}));break;case c.SET_ONE_PROJECT_IS_PINEED_BY_ID:var i=r,l=i.projectId,s=i.isPinned;null!=e.projects&&e.projects.some((function(e){return e.id===l&&(e.isPinned=s,!0)}));break;case c.CHANGE_PROJECT_NAME_BY_ID:var d=r,f=d.projectName,E=d.projectId;if(null!=e.projects){var p=e.projects.find((function(e){return e.id===E}));null!=p&&(p.name=f)}break;case c.CHANGE_EDITING_PROJECT_NAME:null!=e.editingProject.current&&(e.editingProject.current.name=r);break;case c.SNAPSHOT_EDITINGP_PROJECT:var j=e.editingProject.current;null!=j&&e.editingProject.prev.push(j);break;case c.UNDO_EDITING_PROJECT:if(null==e.editingProject.current)return;var O=e.editingProject.prev,m=e.editingProject.future;O.length>0&&(m.push(e.editingProject.current),e.editingProject.current=O.pop());break;case c.REDO_EDITING_PROJECT:if(null==e.editingProject.current)return;var b=e.editingProject.prev,_=e.editingProject.future;_.length>0&&(b.push(e.editingProject.current),e.editingProject.current=_.pop());break;case c.CLEAR_EDITING_HISTORY:e.editingProject.prev=[],e.editingProject.future=[];break;case c.CLEAR_EDITING_PROJECT_FUTURE:e.editingProject.future=[]}}))}},V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.d,Q=Object(_.e)(Object(_.c)(X),V(Object(_.a)(T.a))),ee=(n(112),n(7)),te=n.n(ee),ne=n(28),re=n(19),ae=n(14);function ce(e){return{type:r.SET_IS_LOGINING,payload:e}}function ue(e){return{type:r.SET_USER,payload:e}}function oe(){return{type:r.LOGOUT}}function ie(e){return{type:a.SET_IS_SHOW_ASIDE_MENU,payload:e}}function le(e){return{type:a.PUSH_NOTIFICATION,payload:e}}function se(){return{type:a.SHIFT_NOTIFICATION}}function de(e){return{type:c.SET_PROJECTS,payload:e}}function fe(e){return{type:c.TOGGLE_CHECK_TASK_IN_TODO_PROJECT_BY_ID,payload:e}}function Ee(e){return{type:c.SET_TODO_PROJECT,payload:e}}function pe(e){return{type:c.SET_IS_FETCHING_TODO_PROJECT,payload:e}}function je(){return{type:c.CLEAR_TODO_PROJECT}}function Oe(e){return{type:c.ADD_PROJECT,payload:e}}function me(e){return{type:c.DEL_PROJECT_BY_ID,payload:e}}function be(e){return{type:c.SET_IS_FETCHING_EDITING_PROJECT,payload:e}}function _e(e){return{type:c.SET_EDITING_PROJECT,payload:e}}function Te(){return{type:c.CLEAR_EDITING_PROJECT}}function ge(e){return{type:c.ADD_TASK_TO_EDITING_PROJECT,payload:e}}function Pe(e){return{type:c.DEL_TASK_IN_EDITING_PROJECT,payload:e}}function he(e,t){return{type:c.SET_ONE_PROJECT_IS_PINEED_BY_ID,payload:{projectId:e,isPinned:t}}}function Ce(e){return{type:c.CHANGE_EDITING_PROJECT_NAME,payload:e}}function ve(e,t){return{type:c.CHANGE_PROJECT_NAME_BY_ID,payload:{projectId:e,projectName:t}}}function Ie(){return{type:c.SNAPSHOT_EDITINGP_PROJECT}}function ke(){return{type:c.REDO_EDITING_PROJECT}}function Se(){return{type:c.UNDO_EDITING_PROJECT}}function Ne(){return{type:c.CLEAR_EDITING_HISTORY}}function ye(){return{type:c.CLEAR_EDITING_PROJECT_FUTURE}}var Re=n(87),De=n.n(Re);function we(){return localStorage.getItem("__jwt")||""}function Ae(e){localStorage.setItem("__jwt",e)}var Ge,Je,xe=["localhost","127.0.0.1","192.168.43.72"].some((function(e){return window.location.origin.includes(e)}));!function(e){e.BLUE="#2196f3",e.GREEN="#43a047",e.YELLOW="#fdd835",e.ORANGE="#ff5722",e.RED="#f44336"}(Ge||(Ge={})),function(e){e.ERROR="error",e.WARN="warn",e.SUCCESS="success"}(Je||(Je={}));var Le=xe?"http://127.0.0.1:3030":"http://101.37.174.138:3030",He=De.a.create({baseURL:Le});He.interceptors.request.use((function(e){var t=we();return""!==t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var Fe=function(e){return He.post("/graphql",e)},Ue=n(29);function Be(){var e=Object(ne.a)(["\n          mutation($username: String!, $password: String!) {\n            register(username: $username, password: $password) {\n              token {\n                raw\n              }\n            }\n          }\n        "]);return Be=function(){return e},e}function Me(){var e=Object(ne.a)(["\n          query($loginStatus: loginInput) {\n            login(loginStatus: $loginStatus) {\n              token {\n                raw\n              }\n              user {\n                id\n                username\n              }\n            }\n          }\n        "]);return Me=function(){return e},e}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach((function(t){Object(re.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e){return function(){var t=Object(ae.a)(te.a.mark((function t(n,r){var a,c,o;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!a.user.isLogining){t.next=4;break}return console.error("\u6b63\u5728\u767b\u9646\u4e2d\uff0c\u52ff\u91cd\u590d\u767b\u5f55"),t.abrupt("return");case 4:return t.prev=4,n(u.createSetIsLoginning(!0)),t.next=8,Fe({variables:We({},e?{loginStatus:e}:{}),query:Object(Ue.a)(Me())});case 8:if(c=t.sent,null!=(o=c.data.data)){t.next=12;break}throw new Error("\u767b\u5f55\u5931\u8d25");case 12:Ae(o.login.token.raw),n(u.createSetUser(o.login.user)),n(f.pushNotification({title:"\u767b\u5f55\u6210\u529f",type:Je.SUCCESS})),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(4),n(f.pushNotification({title:"\u767b\u5f55\u5931\u8d25",type:Je.ERROR})),Ae(""),console.error(t.t0);case 22:return t.prev=22,n(u.createSetIsLoginning(!1)),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[4,17,22,25]])})));return function(e,n){return t.apply(this,arguments)}}()}function Ke(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ae(""),t(u.createLogout());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function qe(e,t){return function(){var n=Object(ae.a)(te.a.mark((function n(r,a){var c,u;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Fe({variables:{username:e,password:t},query:Object(Ue.a)(Be())});case 3:if(c=n.sent,null!=(u=c.data.data)){n.next=7;break}throw new Error("\u6ce8\u518c\u5931\u8d25");case 7:Ae(u.register.token.raw),r(Ye()),r(f.pushNotification({title:"\u6ce8\u518c\u6210\u529f",type:Je.SUCCESS})),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),r(f.pushNotification({title:"\u6ce8\u518c\u5931\u8d25",type:Je.ERROR})),console.error(n.t0);case 16:return n.prev=16,n.finish(16);case 18:case"end":return n.stop()}}),n,null,[[0,12,16,18]])})));return function(e,t){return n.apply(this,arguments)}}()}function ze(){var e=Object(ne.a)(["\n      mutation($id: String!, $patcher: patchProjectInput!) {\n        patchProject(id: $id, patcher: $patcher) {\n          id\n          name\n          isPinned\n          tasks {\n            id\n            name\n          }\n        }\n      }\n    "]);return ze=function(){return e},e}function Ze(){var e=Object(ne.a)(["\n      query($id: String!) {\n        project(id: $id) {\n          id\n          name\n          isPinned\n          tasks {\n            id\n            name\n            checked\n          }\n        }\n      }\n    "]);return Ze=function(){return e},e}function Xe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(ae.a)(te.a.mark((function e(t){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe({variables:{id:t},query:Object(Ue.a)(Ze())});case 2:if(n=e.sent,null!=(r=n.data.data)){e.next=6;break}throw new Error("getProject\u5931\u8d25");case 6:return e.abrupt("return",r.project);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){return et.apply(this,arguments)}function et(){return(et=Object(ae.a)(te.a.mark((function e(t,n){var r,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe({variables:{id:t,patcher:n},query:Object(Ue.a)(ze())});case 2:if(r=e.sent,null!=(a=r.data.data)){e.next=6;break}throw new Error("getProject\u5931\u8d25");case 6:return e.abrupt("return",a.patchProject);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tt={project:s};function nt(){var e=Object(ne.a)(["\n        mutation($id: String!) {\n          delTask(id: $id) {\n            id\n          }\n        }\n      "]);return nt=function(){return e},e}function rt(){var e=Object(ne.a)(["\n        mutation($id: String!, $name: String!) {\n          addTask(projectId: $id, name: $name) {\n            id\n            name\n            checked\n          }\n        }\n      "]);return rt=function(){return e},e}function at(){var e=Object(ne.a)(["\n        mutation($id: String!) {\n          delProject(id: $id) {\n            id\n          }\n        }\n      "]);return at=function(){return e},e}function ct(){var e=Object(ne.a)(["\n        mutation($name: String!) {\n          addProject(name: $name) {\n            id\n            name\n            isPinned\n            tasks {\n              id\n              name\n              checked\n            }\n          }\n        }\n      "]);return ct=function(){return e},e}function ut(){var e=Object(ne.a)(["\n          query($username: String!) {\n            projects(username: $username) {\n              id\n              name\n              isPinned\n              tasks {\n                id\n                name\n              }\n            }\n          }\n        "]);return ut=function(){return e},e}function ot(){return function(){var e=Object(ae.a)(te.a.mark((function e(t,n){var r,a,c,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),null!=(a=r.user.user)){e.next=4;break}return console.error("\u672a\u767b\u5f55"),e.abrupt("return");case 4:return e.prev=4,e.next=7,Fe({variables:{username:a.username},query:Object(Ue.a)(ut())});case 7:if(c=e.sent,null!=(u=c.data.data)){e.next=11;break}throw new Error("getProjects\u5931\u8d25");case 11:t(i.createSetProjects(u.projects)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}()}function it(e){return function(){var t=Object(ae.a)(te.a.mark((function t(n,r){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!a.project.isFetchingTodoProject){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,n(i.createSetIsFetchingTodoProject(!0)),t.next=7,tt.project.getProject(e);case 7:c=t.sent,n(i.createSetTodoProject(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:return t.prev=14,n(i.createSetIsFetchingTodoProject(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(e,n){return t.apply(this,arguments)}}()}function lt(e){return function(){var t=Object(ae.a)(te.a.mark((function t(n,r){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!a.project.isFetchingEditingProject){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,n(i.createSetIsFetchingEditingProject(!0)),t.next=7,tt.project.getProject(e);case 7:c=t.sent,n(i.createSetEditingProject(c)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error(t.t0);case 14:return t.prev=14,n(i.createSetIsFetchingEditingProject(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(e,n){return t.apply(this,arguments)}}()}function st(e){var t=e.name;return function(){var e=Object(ae.a)(te.a.mark((function e(n){var r,a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe({variables:{name:t},query:Object(Ue.a)(ct())});case 2:if(r=e.sent,null!=(a=r.data.data)){e.next=6;break}throw new Error("createProject \u5931\u8d25");case 6:c=a.addProject,n(i.createAddProject(c));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function dt(e){return function(){var t=Object(ae.a)(te.a.mark((function t(n){var r,a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe({variables:{id:e},query:Object(Ue.a)(at())});case 2:if(r=t.sent,null!=(a=r.data.data)){t.next=6;break}throw new Error("delProject \u5931\u8d25");case 6:c=a.delProject.id,n(i.createDelProjectById(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ft(e,t){return function(){var n=Object(ae.a)(te.a.mark((function n(r){var a,c,u;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Fe({variables:{id:e,name:t},query:Object(Ue.a)(rt())});case 2:if(a=n.sent,null!=(c=a.data.data)){n.next=6;break}throw new Error("addTask \u5931\u8d25");case 6:u=c.addTask,r(i.createAddTaskToEditingProject(u));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Et(e){return function(){var t=Object(ae.a)(te.a.mark((function t(n){var r,a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe({variables:{id:e},query:Object(Ue.a)(nt())});case 2:if(r=t.sent,null!=(a=r.data.data)){t.next=6;break}throw new Error("delTask \u5931\u8d25");case 6:c=a.delTask.id,n(i.createDelTaskToEditingProject(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function pt(e,t){return function(){var n=Object(ae.a)(te.a.mark((function n(r){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tt.project.patchProject(e,{isPinned:t});case 2:if(null!=n.sent){n.next=5;break}throw new Error("setProjectIsPinned \u5931\u8d25");case 5:r(i.createSetOneProjectIsPinnedById(e,t));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function jt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t,n){var r,a,c,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),null!=(a=r.project.editingProject.current)){e.next=3;break}return e.abrupt("return");case 3:return c=a.id,u=a.name,e.next=6,tt.project.patchProject(c,{name:u});case 6:if(null!=e.sent){e.next=9;break}throw new Error("saveEditingProjectName \u5931\u8d25");case 9:t(i.createChangeProjectNameById(c,u)),t(f.pushNotification({type:Je.SUCCESS,title:"\u6210\u529f\u66f4\u6539\u9879\u76ee\u540d\u79f0"},1500));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Ot(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(i.createRedoEditingProject());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function mt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(i.createUndoEditingProject());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return function(){var n=Object(ae.a)(te.a.mark((function n(r){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:setTimeout((function(){r(o.createShiftNotification())}),t),r(o.createPushNotification(e));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var _t,Tt=n(40),gt=(n(130),n(173)),Pt=n(199),ht=n(90),Ct=n.n(ht),vt=n(91),It=n.n(vt),kt=n(88),St=n.n(kt),Nt=n(171),yt=n(172),Rt="success",Dt="error",wt=(_t={},Object(re.a)(_t,Rt,Ge.GREEN),Object(re.a)(_t,Dt,Ge.RED),Object(re.a)(_t,"warn",Ge.YELLOW),_t);var At=p.a.forwardRef((function(e,t){var n=e.type,r=void 0===n?Je.WARN:n,a=e.title,c=e.style,u=e.detail,o=void 0===u?"":u,i={borderRadius:"50%",overflow:"hidden",color:"#fff",width:"48px",height:"48px",backgroundColor:wt[r]},l=p.a.createElement(St.a,{style:i});return r===Dt&&(l=p.a.createElement(Ct.a,{style:i})),r===Rt&&(l=p.a.createElement(It.a,{style:i})),p.a.createElement(Nt.a,{ref:t,style:c},p.a.createElement(yt.a,{avatar:l,title:a,subheader:o}))})),Gt=n(15);function Jt(e){return Object(b.d)(e,b.b)}var xt=function(e){return{notifications:e.global.notifications}};var Lt=function(){var e=Jt(xt).notifications;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"NotificationsPanelContainer",style:{position:"absolute",top:"0",left:"0",width:"100%",boxSizing:"border-box"}},p.a.createElement(Pt.a,null,e.map((function(e,t){return p.a.createElement(gt.a,{key:t+e.title},p.a.createElement(At,{style:{zIndex:"1",backgroundColor:"#fff",margin:"20px 20px 0 20px",position:"absolute",width:"calc(100% - 40px)",boxSizing:"border-box"},type:e.type,title:e.title,detail:e.detail}))})))))};function Ht(e){var t=e.children;return p.a.createElement("div",{className:"basic-layout"},p.a.createElement("div",{className:"basic-layout-content"},t),p.a.createElement(Lt,null))}var Ft=n(176),Ut=n(177),Bt=n(142),Mt=n(178),$t=n(94),Wt=n.n($t);function Yt(e){var t=e.onClick,n=e.needDoubleClick,r=e.timeout,a=function(){var e=Object(E.useState)(0),t=Object(Gt.a)(e,2)[1];return Object(E.useCallback)((function(){t((function(e){return e+1}))}),[t])}(),c=Object(E.useRef)(0),u=Object(E.useRef)(null),o=Object(E.useCallback)((function(){if(n){c.current+=1;var e=c.current;1===e?(null!=u.current&&clearTimeout(u.current),u.current=setTimeout((function(){c.current=0,u.current=null,a()}),r)):2===e&&(null!=u.current&&clearTimeout(u.current),c.current=0,t.apply(void 0,arguments)),a()}else t.apply(void 0,arguments)}),[t,n,a,r]),i=1===c.current?"rgba(0, 0, 0, 0.25)":"";return p.a.createElement(Bt.a,{style:{backgroundColor:i,transition:"background-color 300ms linear"},onClick:o,edge:"end"},p.a.createElement(Wt.a,null))}Yt.defaultProps={needDoubleClick:!1,timeout:1e3};var Kt=Yt,qt=n(174);function zt(){var e=Object(b.c)(),t=Object(E.useCallback)((function(){e(o.createSetIsShowAsideMenu(!0))}),[e]);return p.a.createElement(qt.a,{style:{backgroundColor:Ge.BLUE,color:"#fff"},onClick:t,fullWidth:!0,variant:"outlined"},"\u5f00\u59cb\u4e00\u4e2a\u9879\u76ee")}var Zt=function(e){var t=e.project.todoProject;return{projectId:null==t?null:t.id,tasks:null==t?[]:t.tasks}};function Xt(){var e,t,n=Jt(Zt),r=n.tasks,a=n.projectId,c=Object(E.useMemo)((function(){return r.filter((function(e){return e.checked}))}),[r]),u=Object(E.useMemo)((function(){return r.filter((function(e){return!e.checked}))}),[r]),o=Object(b.c)(),l=c.length===r.length;0===r.length?(e="\u6dfb\u52a0\u4efb\u52a1\u9879",t=Ge.RED):l?(e="\u5b8c\u6210\u5168\u90e8\u4efb\u52a1(".concat(c.length,"/").concat(r.length,")"),t=Ge.GREEN):(e="\u5b8c\u6210\u4e00\u9879\u4efb\u52a1(".concat(c.length,"/").concat(r.length,")"),t=Ge.ORANGE);var s=Object(Tt.g)(),d=Object(E.useCallback)((function(){0===r.length&&null!=a?s.push("/project-editor/".concat(a)):l?s.push("/"):0!==u.length&&o(i.createToggleCheckTaskInTodoProjectById(u[0].id))}),[l,s,u,o,r,a]);return p.a.createElement(qt.a,{style:{backgroundColor:t,color:"#fff"},onClick:d,fullWidth:!0,variant:"outlined"},e)}var Vt=n(175),Qt=function(e){var t=e.project.editingProject,n=t.prev,r=t.future;return{numOfPrevProject:n.length,numOfFutuProject:r.length}};function en(){var e=Object(b.c)(),t=Jt(Qt),n=t.numOfFutuProject,r=t.numOfPrevProject,a=Object(E.useCallback)((function(){e(d.undoEditingProject())}),[e]),c=Object(E.useCallback)((function(){e(d.redoEditingProject())}),[e]);return p.a.createElement(Vt.a,{fullWidth:!0},p.a.createElement(qt.a,{disabled:0===r,onClick:a},"undo"),p.a.createElement(qt.a,{disabled:0===n,onClick:c},"redo"))}function tn(){var e=Object(Tt.g)(),t=Object(b.c)(),n=Object(E.useCallback)((function(){t(o.createSetIsShowAsideMenu(!0))}),[t]),r=Object(E.useCallback)((function(){console.log("onClickHomeButton"),e.push("/")}),[e]);return p.a.createElement(Ft.a,{style:{backgroundColor:"white"},position:"static"},p.a.createElement(Ut.a,null,p.a.createElement(Bt.a,{edge:"start",onClick:n},p.a.createElement(Mt.a,null)),p.a.createElement(Tt.d,null,p.a.createElement(Tt.b,{path:"/todo-project",component:Xt}),p.a.createElement(Tt.b,{path:"/project-editor",component:en}),p.a.createElement(Tt.b,{path:"*",component:zt})),p.a.createElement(Kt,{needDoubleClick:!0,onClick:r})))}var nn=n(200),rn=n(191),an=n(180),cn=n(181),un=n(184),on=n(196),ln=(n(133),n(182)),sn=n(183),dn=n(185),fn=n(186),En=n(187),pn=n(188),jn=n(189),On=n(179);function mn(){return p.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"full-screen-loading"},p.a.createElement(On.a,null))}var bn=function(e){return{projects:e.project.projects}},_n=p.a.memo((function(){var e=Jt(bn).projects,t=Object(b.c)(),n=Object(Tt.g)(),r=Object(E.useCallback)((function(e){t(o.createSetIsShowAsideMenu(!1)),n.push("/todo-project/".concat(e))}),[t,n]),a=Object(E.useCallback)((function(e){t(o.createSetIsShowAsideMenu(!1)),n.push("/project-editor/".concat(e))}),[t,n]),c=Object(E.useCallback)((function(e){t(d.delProjectById(e))}),[t]),u=Object(E.useCallback)((function(e){t(d.setProjectIsPinned(e,!0))}),[t]),i=Object(E.useCallback)((function(e){t(d.setProjectIsPinned(e,!1))}),[t]),l=Object(E.useState)(!1),s=Object(Gt.a)(l,2),f=s[0],j=s[1],O=Object(E.useCallback)((function(){return j((function(e){return!e}))}),[j]);return null==e?p.a.createElement(mn,null):p.a.createElement(an.a,{className:"project-list",subheader:p.a.createElement(cn.a,null,p.a.createElement("div",{style:{display:"flex"}},p.a.createElement("span",{style:{flex:"1"},className:"title"},"\u9879\u76ee"),p.a.createElement("div",{className:"edit-button"},"\u7f16\u8f91 ",p.a.createElement(ln.a,{checked:f,onChange:O}))))},p.a.createElement(Pt.a,null,e.map((function(e){return p.a.createElement(sn.a,{timeout:500,direction:"right",key:e.id},p.a.createElement(un.a,{style:{height:"64px"},onClick:function(){return r(e.id)},button:!0},p.a.createElement(dn.a,null,e.name),f?p.a.createElement(p.a.Fragment,null,p.a.createElement(Bt.a,{onClick:function(t){t.stopPropagation(),a(e.id)}},p.a.createElement(fn.a,null)),p.a.createElement(Bt.a,{onClick:function(t){t.stopPropagation(),c(e.id)}},p.a.createElement(En.a,null))):e.isPinned?p.a.createElement(Bt.a,{onClick:function(t){t.stopPropagation(),i(e.id)}},p.a.createElement(pn.a,null)):p.a.createElement(Bt.a,{onClick:function(t){t.stopPropagation(),u(e.id)}},p.a.createElement(jn.a,null))))}))))})),Tn=function(){var e=function(e){return null!=e.user.user};return function(){return Object(b.d)(e)}}();function gn(){return p.a.createElement("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},"\u8bf7\u767b\u5f55")}var Pn=function(e){var t=e.user.user;return{isShowAsideMenu:e.global.isShowAsideMenu,username:null!=t?t.username:""}};function hn(){var e=Jt(Pn),t=e.isShowAsideMenu,n=e.username,r=Tn(),a=Object(b.c)(),c=Object(E.useCallback)((function(){a(o.createSetIsShowAsideMenu(!1))}),[a]),u=Object(Tt.g)(),i=Object(E.useCallback)((function(){c(),u.push("/login")}),[c,u]),l=Object(E.useCallback)((function(){c(),u.push("/register")}),[c,u]),s=Object(E.useCallback)((function(){c(),u.push("/account")}),[c,u]),f=Object(E.useState)(""),j=Object(Gt.a)(f,2),O=j[0],m=j[1],_=Object(E.useCallback)((function(e){return m(e.target.value)}),[m]),T=Object(E.useCallback)((function(){""!==O.trim()&&(a(d.createProject({name:O})),m(""))}),[O,m,a]),g=Object(E.useCallback)((function(e){var t=e.keyCode;13===(void 0===t?-1:t)&&T()}),[T]);return p.a.createElement(nn.a,{className:"aside-menu-wrapper",anchor:"left",onClose:c,open:t},p.a.createElement("div",{className:"aside-menu"},p.a.createElement("div",{className:"aside-menu-project-list"},r?p.a.createElement(_n,null):p.a.createElement(gn,null)),p.a.createElement(rn.a,null),p.a.createElement(an.a,{subheader:p.a.createElement(cn.a,null,"\u529f\u80fd"),className:"aside-menu-functions"},p.a.createElement(un.a,null,p.a.createElement(on.a,{label:r?"\u521b\u5efa\u65b0\u4efb\u52a1":"\u8bf7\u5148\u767b\u5f55",disabled:!r,onKeyUp:g,onChange:_,type:"text",value:O,margin:"normal",variant:"outlined",fullWidth:!0})),p.a.createElement(un.a,null,r?p.a.createElement(qt.a,{fullWidth:!0,variant:"outlined",onClick:s},"\u8d26\u6237(",n," \u5df2\u767b\u5f55)"):p.a.createElement(Vt.a,{fullWidth:!0},p.a.createElement(qt.a,{variant:"outlined",onClick:i},"\u767b\u5f55"),p.a.createElement(qt.a,{variant:"outlined",onClick:l},"\u6ce8\u518c"))))))}n(134);var Cn=n(41),vn=n(193),In=n(198),kn=(n(135),function(e){return{todoProject:e.project.todoProject}});var Sn=n(192),Nn=(n(136),n(194));function yn(e){var t=e.onBack,n=e.title;return p.a.createElement(Ft.a,{style:{backgroundColor:"white"},position:"static"},p.a.createElement(Ut.a,null,p.a.createElement(Bt.a,{edge:"start",onClick:t},p.a.createElement(Nn.a,null)),p.a.createElement(Cn.a,{style:{color:"#000"},variant:"h6"},n)))}n(137);var Rn=n(195),Dn=(n(138),function(e){return{editingProject:e.project.editingProject.current}});var wn=n(190),An=function(e){return{projects:e.project.projects}};n(139);var Gn=function(e){return{user:e.user.user}};var Jn=[{path:"/login",layout:Ht,component:function(){var e=Object(Tt.g)(),t=Object(E.useState)(!1),n=Object(Gt.a)(t,2),r=n[0],a=n[1],c=Object(E.useCallback)((function(){return a(!0)}),[a]),u=Object(E.useCallback)((function(){e.goBack()}),[e]),o=Object(b.c)(),i=Object(E.useState)(""),s=Object(Gt.a)(i,2),d=s[0],j=s[1],O=Object(E.useState)(!1),m=Object(Gt.a)(O,2),_=m[0],T=m[1],g=Object(E.useCallback)((function(e){T(!1),j(e.target.value)}),[T,j]),P=Object(E.useState)(""),h=Object(Gt.a)(P,2),C=h[0],v=h[1],I=Object(E.useState)(!1),k=Object(Gt.a)(I,2),S=k[0],N=k[1],y=Object(E.useCallback)((function(e){N(!1),v(e.target.value)}),[]),R=Object(E.useCallback)((function(){!function(e){return/^[a-zA-Z0-9_-]{4,16}$/.test(e)}(d)?(o(f.pushNotification({type:Je.WARN,title:"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef",detail:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09"})),T(!0)):!function(e){return/^[a-zA-Z0-9_-]{4,16}$/.test(e)}(C)?(o(f.pushNotification({type:Je.WARN,title:"\u5bc6\u7801\u683c\u5f0f\u9519\u8bef",detail:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09"})),N(!0)):o(l.login({username:d,password:C}))}),[d,C,T,N,o]);return Tn()?p.a.createElement(Tt.a,{to:"/"}):p.a.createElement(Sn.a,{in:!r,onExited:u},p.a.createElement("div",{id:"login-page"},p.a.createElement(yn,{onBack:c,title:"\u767b\u5f55"}),p.a.createElement("div",{className:"login-area"},p.a.createElement("form",null,p.a.createElement(on.a,{fullWidth:!0,placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09",error:_,value:d,onChange:g,type:"text",label:"\u7528\u6237\u540d",margin:"normal"}),p.a.createElement(on.a,{placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09",error:S,value:C,onChange:y,fullWidth:!0,type:"password",label:"\u5bc6\u7801",margin:"normal"}),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement(qt.a,{onClick:R,fullWidth:!0,variant:"outlined"},"\u767b\u5f55")))))}},{path:"/register",layout:Ht,component:function(){var e=Object(Tt.g)(),t=Object(E.useState)(!1),n=Object(Gt.a)(t,2),r=n[0],a=n[1],c=Object(E.useCallback)((function(){return a(!0)}),[a]),u=Object(E.useCallback)((function(){e.goBack()}),[e]),o=Object(b.c)(),i=Object(E.useState)(""),s=Object(Gt.a)(i,2),d=s[0],j=s[1],O=Object(E.useState)(!1),m=Object(Gt.a)(O,2),_=m[0],T=m[1],g=Object(E.useCallback)((function(e){T(!1),j(e.target.value)}),[T,j]),P=Object(E.useState)(""),h=Object(Gt.a)(P,2),C=h[0],v=h[1],I=Object(E.useState)(!1),k=Object(Gt.a)(I,2),S=k[0],N=k[1],y=Object(E.useCallback)((function(e){N(!1),v(e.target.value)}),[N,v]),R=Object(E.useCallback)((function(){!function(e){return/^[a-zA-Z0-9_-]{4,16}$/.test(e)}(d)?(o(f.pushNotification({type:Je.WARN,title:"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef",detail:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09"})),T(!0)):!function(e){return/^[a-zA-Z0-9_-]{4,16}$/.test(e)}(C)?(o(f.pushNotification({type:Je.WARN,title:"\u5bc6\u7801\u683c\u5f0f\u9519\u8bef",detail:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09"})),N(!0)):o(l.register(d,C))}),[d,C,T,N,o]);return Tn()?p.a.createElement(Tt.a,{to:"/"}):p.a.createElement(Sn.a,{in:!r,onExited:u},p.a.createElement("div",{className:"register-page"},p.a.createElement(yn,{onBack:c,title:"\u6ce8\u518c"}),p.a.createElement("div",{className:"login-area"},p.a.createElement("form",null,p.a.createElement(on.a,{fullWidth:!0,placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09",error:_,value:d,onChange:g,type:"text",label:"\u7528\u6237\u540d",margin:"normal"}),p.a.createElement(on.a,{placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\uff08\u5b57\u6bcd\uff0c\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff0c\u51cf\u53f7\uff09",error:S,value:C,onChange:y,fullWidth:!0,type:"password",label:"\u5bc6\u7801",margin:"normal"}),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement(qt.a,{onClick:R,fullWidth:!0,variant:"outlined"},"\u6ce8\u518c")))))}},{path:"/account",layout:Ht,component:function(){var e=Object(Tt.g)(),t=Jt(Gn).user,n=Object(E.useCallback)((function(){e.goBack()}),[e]),r=Object(b.c)(),a=Object(E.useCallback)((function(){r(l.logout())}),[r]);return null==t?p.a.createElement(Tt.a,{to:"/"}):p.a.createElement("div",{className:"account-page"},p.a.createElement(yn,{onBack:n,title:"\u8d26\u6237"}),p.a.createElement("div",{className:"account-page-content"},p.a.createElement("div",{className:"text"},"\u6b22\u8fce\u60a8\uff0c",t.username),p.a.createElement("br",null),p.a.createElement(qt.a,{onClick:a,variant:"contained",style:{backgroundColor:Ge.RED,color:"#fff"}},"\u9000\u51fa\u767b\u5f55")))}},{path:"/",component:function(e){var t=e.children;return p.a.createElement(Ht,null,p.a.createElement("div",{className:"default-layout"},p.a.createElement("div",{className:"default-layout-content"},t),p.a.createElement(tn,null)),p.a.createElement(hn,null))},children:[{path:"/todo-project/:id",component:function(){var e=Object(Tt.h)().id,t=Jt(kn).todoProject,n=Object(b.c)();Object(E.useEffect)((function(){return function(){n(i.createClearTodoProject())}}),[n]),Object(E.useEffect)((function(){null!=e&&(null!=t&&t.id===e||(null!=t&&n(i.createClearTodoProject()),n(d.getTodoProject(e))))}),[e,t,n]);var r=Object(E.useMemo)((function(){return null==t?[]:t.tasks.filter((function(e){return e.checked}))}),[t]),a=Object(E.useMemo)((function(){return null==t?[]:t.tasks.filter((function(e){return!e.checked}))}),[t]),c=Object(Tt.g)(),u=Object(E.useCallback)((function(){c.push("/project-editor/".concat(e))}),[c,e]),o=Object(E.useCallback)((function(e){n(i.createToggleCheckTaskInTodoProjectById(e))}),[n]);return null==e?p.a.createElement(Tt.a,{to:"/"}):null==t?p.a.createElement(mn,null):p.a.createElement("div",{className:"todo-project"},p.a.createElement(an.a,null,p.a.createElement(un.a,null,p.a.createElement(Cn.a,{variant:"h4"},t.name),p.a.createElement(Bt.a,{onClick:u},p.a.createElement(fn.a,null))),p.a.createElement(an.a,{subheader:0!==a.length?p.a.createElement(cn.a,null,"\u672a\u5b8c\u6210"):void 0},p.a.createElement(Pt.a,null,a.map((function(e){return p.a.createElement(sn.a,{timeout:500,key:e.id,direction:"right"},p.a.createElement(un.a,{button:!0,onClick:function(){return o(e.id)}},p.a.createElement(vn.a,null,p.a.createElement(In.a,{checked:e.checked})),p.a.createElement(dn.a,null,e.name)))})))),p.a.createElement(an.a,{subheader:0!==r.length?p.a.createElement(cn.a,null,"\u5df2\u5b8c\u6210"):void 0},p.a.createElement(Pt.a,null,r.map((function(e){return p.a.createElement(sn.a,{timeout:500,key:e.id,direction:"right"},p.a.createElement(un.a,{button:!0,key:e.id,onClick:function(){return o(e.id)}},p.a.createElement(vn.a,null,p.a.createElement(In.a,{checked:e.checked})),p.a.createElement(dn.a,null,e.name)))}))))))}},{path:"/project-editor/:id",component:function(){var e=Object(Tt.h)().id,t=Jt(Dn).editingProject,n=Object(b.c)(),r=Object(E.useCallback)((function(e){n(i.createSnapshotEditingpProject()),n(i.createChangeEditingProjectName(e.target.value))}),[n]),a=Object(E.useCallback)((function(){n(d.saveEditingProjectName())}),[n]);Object(E.useEffect)((function(){null!=e&&(null!=t&&t.id===e||(n(i.createClearEditingHistory()),n(d.getEditingProject(e))))}),[e,t,n]);var c=Object(E.useState)(""),u=Object(Gt.a)(c,2),o=u[0],l=u[1],s=Object(E.useCallback)((function(e){return l(e.target.value)}),[l]),f=Object(E.useCallback)((function(){""!==o.trim()&&null!=t&&(n(i.createSnapshotEditingpProject()),n(d.createTask(t.id,o)),l(""))}),[o,l,n,t]),j=Object(E.useCallback)((function(e){var t=e.keyCode;13===(void 0===t?-1:t)&&(n(i.createClearEditingProjectFuture()),f())}),[n,f]),O=Object(E.useCallback)((function(e){n(i.createSnapshotEditingpProject()),n(d.delTask(e))}),[n]);return null==e?p.a.createElement(Tt.a,{to:"/"}):null==t?p.a.createElement(mn,null):p.a.createElement("div",{className:"project-editor"},p.a.createElement(an.a,null,p.a.createElement(un.a,{className:"project-editor-input"},p.a.createElement(on.a,{onChange:r,value:t.name}),p.a.createElement(vn.a,null,p.a.createElement(Bt.a,{onClick:a},p.a.createElement(Rn.a,null)))),t.tasks.map((function(e){return p.a.createElement(un.a,{key:e.id},p.a.createElement(vn.a,null,p.a.createElement(In.a,null)),p.a.createElement(dn.a,null,e.name),p.a.createElement(vn.a,null,p.a.createElement(Bt.a,{onClick:function(){return O(e.id)}},p.a.createElement(En.a,null))))})),p.a.createElement(un.a,null,p.a.createElement(on.a,{placeholder:"\u4efb\u52a1\u540d\u79f0(\u6309\u56de\u8f66\u952e\u6dfb\u52a0)",onKeyUp:j,value:o,onChange:s,type:"text",fullWidth:!0}))))}},{path:"/",component:function(){var e=Jt(An).projects,t=Object(b.c)(),n=Object(Tt.g)(),r=Object(E.useCallback)((function(e){t(o.createSetIsShowAsideMenu(!1)),n.push("/todo-project/".concat(e))}),[t,n]),a=Object(E.useCallback)((function(e){t(d.setProjectIsPinned(e,!1))}),[t]),c=Tn(),u=Object(E.useMemo)((function(){return c&&null!=e?e.filter((function(e){return e.isPinned})):[]}),[e,c]);return p.a.createElement(an.a,{className:"pinned-project-list",subheader:p.a.createElement(cn.a,null,"\u7f6e\u9876\u4efb\u52a1\u9879")},p.a.createElement(Pt.a,null,u.map((function(e){return p.a.createElement(wn.a,{timeout:500,key:e.id},p.a.createElement(un.a,{style:{height:"64px"},onClick:function(){return r(e.id)},button:!0},p.a.createElement(dn.a,null,e.name),p.a.createElement(vn.a,null,p.a.createElement(Bt.a,{onClick:function(t){t.stopPropagation(),a(e.id)}},p.a.createElement(pn.a,null)))))}))))}}]}];var xn=function(){return function e(t){return null==t||0===t.length?null:p.a.createElement(Tt.d,null,t.map((function(t,n){var r=t.layout,a=t.component;return null==r?p.a.createElement(Tt.b,{key:n,path:t.path,render:function(){return p.a.createElement(a,null,e(t.children))}}):p.a.createElement(Tt.b,{key:n,path:t.path,render:function(){return p.a.createElement(r,null,p.a.createElement(a,null,e(t.children)))}})})))}(Jn)};function Ln(){var e=Tn(),t=Object(b.c)();return Object(E.useEffect)((function(){if(e)t(d.getProjects());else{var n=we();null!=n&&""!==n&&t(l.login())}}),[t,e]),p.a.createElement("div",{className:"app"},p.a.createElement(m.a,null,p.a.createElement(xn,null)))}n(140);O.a.render(p.a.createElement((function(){return p.a.createElement(b.a,{store:Q},p.a.createElement(Ln,null))})),document.getElementById("root")),xe&&console.log("\u5f00\u53d1\u6a21\u5f0f")}},[[103,1,2]]]);
//# sourceMappingURL=main.b940eef8.chunk.js.map