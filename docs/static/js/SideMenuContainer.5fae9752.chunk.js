(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{199:function(e,t,a){"use strict";var n=a(39),o=a(0),l=a.n(o),c=a(219);function i(e){var t=e.onKeyEnterUp,a=Object(n.a)(e,["onKeyEnterUp"]),i=Object(o.useCallback)(function(e){var a=e.keyCode;13===(void 0===a?-1:a)&&t(e)},[t]);return l.a.createElement(c.a,Object.assign({onKeyUp:i},a))}i.defaultProps={},t.a=i},220:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(14),c=a(4),i=a(28),r=a(45),s=(a(11),a(98)),u=a.n(s),d=a(65),k=a.n(d),h=a(156),m=a(183),b=a(186),p=a(181),g=a(182),f=a(46),C=a(1),v=a(3),y=(a(5),a(6)),E=a(9),w=a(18),O=a(20),j=a(96),$=o.a.forwardRef(function(e,t){var a=e.classes,n=e.className,l=e.color,c=void 0===l?"secondary":l,i=e.edge,r=void 0!==i&&i,s=e.size,u=void 0===s?"medium":s,d=Object(v.a)(e,["classes","className","color","edge","size"]),k=o.a.createElement("span",{className:a.thumb});return o.a.createElement("span",{className:Object(y.a)(a.root,n,{start:a.edgeStart,end:a.edgeEnd}[r],{small:a["size".concat(Object(O.a)(u))]}[u])},o.a.createElement(j.a,Object(C.a)({type:"checkbox",icon:k,checkedIcon:k,classes:{root:Object(y.a)(a.switchBase,a["color".concat(Object(O.a)(c))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},d)),o.a.createElement("span",{className:a.track}))}),S=Object(E.a)(function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),willChange:"left, transform","&$checked":{left:"100%",transform:"translateX(-100%)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(w.b)(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(w.b)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}},{name:"MuiSwitch"})($),T=a(184),B=a(187),x=a(197),I=function(e){var t=e.$task,a=e.onClickTask,n=e.onClickEditTaskButton,l=e.onClickRemoveTaskButton,c=e.isEditable;return o.a.createElement(B.a,{timeout:300,key:t.get("id")},o.a.createElement(p.a,{style:{height:"48px"},onClick:function(){return a(t)},button:!c},o.a.createElement(g.a,{primary:t.get("title")}),c?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{onClick:function(e){return n(e,t)}},o.a.createElement(k.a,null)),o.a.createElement(h.a,{onClick:function(e){return l(e,t)}},o.a.createElement(u.a,null))):null))};function M(e){var t=e.onClickTask,a=e.onClickEditTaskButton,l=e.onClickRemoveTaskButton,c=e.$tasks,i=e.isEditable,r=e.onClickSwitchButton,s=Object(n.useCallback)(function(e){return function(t){t.stopPropagation();for(var a=arguments.length,n=new Array(a>1?a-1:0),o=1;o<a;o++)n[o-1]=arguments[o];e.apply(void 0,n)}},[]);return o.a.createElement(m.a,{subheader:o.a.createElement(b.a,{component:"div",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{className:"left"},o.a.createElement(f.a,null,"\u4efb\u52a1\u5217\u8868")),o.a.createElement("div",{className:"right"},o.a.createElement(f.a,null,"\u7f16\u8f91",o.a.createElement(S,{onClick:r,checked:i,color:"primary"}))))},o.a.createElement(T.a,null),o.a.createElement(x.a,null,c.map(function(e){return I({$task:e,isEditable:i,onClickTask:t,onClickRemoveTaskButton:s(l),onClickEditTaskButton:s(a)})})))}M.defaultProps={onClickTask:function(){console.log("onClickTask")},onClickRemoveTaskButton:function(){console.log("onClickRemoveTaskButton")},onClickEditTaskButton:function(){console.log("onClickEditTaskButton")},onClickSwitchButton:function(){console.log("onClickSwitchButton")},isEditable:!1};var z=M,R=a(66);var N=Object(l.b)(function(e){var t=e.get("global"),a=e.get("task");return{showSideMenu:t.get("showSideMenu"),$tasks:a.get("tasks"),hasLogin:e.getIn(["user","hasLogin"])}},null)(function(e){var t=e.$tasks,a=e.dispatch,l=e.hasLogin,s=Object(r.g)(),u=t.get("entity"),d=t.get("refs"),k=Object(n.useMemo)(function(){return d.map(function(e){return u.get(e)})},[u,d]),h=Object(R.c)(),m=Object(n.useState)(!1),b=Object(i.a)(m,2),p=b[0],g=b[1],f=Object(n.useCallback)(function(){h&&g(function(e){return!e})},[g,h]),C=Object(n.useCallback)(function(e){a(c.c.hideSideMenu()),s.push("/edit/".concat(e.get("id")))},[a,s]),v=Object(n.useCallback)(function(e){a(c.f.effectDeleteTask(e.get("id"))),a(c.f.removeTaskInTasks(e))},[a]),y=Object(n.useCallback)(function(e){p||(a(c.c.hideSideMenu()),s.push("/todo/".concat(e.get("id"))))},[a,s,p]);return o.a.createElement(z,{onClickEditTaskButton:C,onClickRemoveTaskButton:v,onClickTask:y,isEditable:h&&l&&p,onClickSwitchButton:f,$tasks:k})}),P=a(188);function L(e){var t=e.children;return o.a.createElement(m.a,{subheader:o.a.createElement(b.a,{component:"div"},"\u83dc\u5355\u9879")},o.a.createElement(T.a,null),o.a.Children.map(t,function(e,t){return o.a.createElement(p.a,{key:t},e)}))}L.defaultProps={children:null};var K=L,U=a(199),W=a(13),A=a(35),D=function(e){return e.getIn(["user","hasLogin"])};var F=function(){var e=Object(l.d)(D),t=Object(l.c)(),a=Object(r.g)(),s=Object(n.useState)(""),u=Object(i.a)(s,2),d=u[0],k=u[1],h=Object(n.useCallback)(function(e){return k(e.target.value)},[k]),m=Object(n.useCallback)(function(e){var a=e.target.value.trim();if(""!==a){var n={title:a,id:Object(W.f)(),items:[],timestamp:Date.now()};t(c.b.createTask(n)),k("")}},[t,k]),b=Object(n.useCallback)(function(){t(c.c.hideSideMenu()),a.push("/account")},[t]);return o.a.createElement(K,null,o.a.createElement(U.a,{label:e?"\u521b\u5efa\u65b0\u4efb\u52a1":"\u8bf7\u5148\u767b\u5f55",disabled:!e,onKeyEnterUp:m,onChange:h,type:"text",value:d,margin:"normal",variant:"outlined",fullWidth:!0}),o.a.createElement(P.a,{fullWidth:!0,variant:"outlined",style:{backgroundColor:e?A.b:A.c,color:"#fff"},onClick:b},e?"\u5df2\u767b\u5f55":"\u767b\u5f55|\u4e91\u540c\u6b65"))},J=a(185);function X(e){var t=e.show,a=e.children;return o.a.createElement(J.a,{in:t,direction:"right"},o.a.createElement("div",{style:{position:"absolute",width:"65%",maxWidth:"375px",height:"100vh",backgroundColor:"#fff",overflowY:"scroll",overflowX:"hidden",opacity:"1",zIndex:"3000"},className:"transition-slide-right-self"},a))}X.defaultProps={show:!0,children:""};var Y=X;function q(e){var t=e.show,a=e.onClick;return o.a.createElement(B.a,{in:t},o.a.createElement("div",{onClick:a,role:"button",style:{position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)",top:"0",left:"0",height:"100vh",width:"100%",zIndex:"2000"},className:"transition-fade-self"}))}q.defaultProps={onClick:function(){console.log("Mask:onClick")}};var G=q;t.default=Object(l.b)(function(e){return{showSideMenu:e.getIn(["global","showSideMenu"])}},null)(function(e){var t=e.dispatch,a=e.showSideMenu,l=Object(n.useCallback)(function(){t(Object(c.d)())},[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{show:a,onClick:l}),o.a.createElement(Y,{show:a},o.a.createElement(N,null),o.a.createElement(F,null)))})}}]);
//# sourceMappingURL=SideMenuContainer.5fae9752.chunk.js.map