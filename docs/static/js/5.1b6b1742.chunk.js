(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{199:function(e,t,a){"use strict";var n=a(39),l=a(0),r=a.n(l),c=a(219);function i(e){var t=e.onKeyEnterUp,a=Object(n.a)(e,["onKeyEnterUp"]),i=Object(l.useCallback)(function(e){var a=e.keyCode;13===(void 0===a?-1:a)&&t(e)},[t]);return r.a.createElement(c.a,Object.assign({onKeyUp:i},a))}i.defaultProps={},t.a=i},222:function(e,t,a){"use strict";a.r(t);var n=a(28),l=a(0),r=a.n(l),c=a(114),i=a(221),u=a(218),o=a(14),s=a(188),d=(a(11),a(187)),b=a(45),f=a(183),g=a(181),m=a(219),p=a(199);function E(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],i=a[1],u=r.a.useState(""),o=Object(n.a)(u,2),d=o[0],b=o[1],E=Object(l.useCallback)(function(e){return i(e.target.value)},[i]),v=Object(l.useCallback)(function(e){return b(e.target.value)},[b]),O=e.onLogin,j=e.disabled,C=Object(l.useCallback)(function(){O({username:c,password:d})},[c,d,O]),k=j||""===c.trim()||""===d.trim(),h=j?"\u767b\u5f55\u4e2d...":"\u767b\u5f55";return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(m.a,{value:c,onChange:E,type:"text",label:"\u7528\u6237\u540d",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(p.a,{onkeyEnterUp:C,value:d,onChange:v,type:"password",label:"\u5bc6\u7801",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(s.a,{disabled:k,variant:"outlined",onClick:C,fullWidth:!0},h)))}E.defaultProps={disabled:!1};var v=E;function O(e){var t=r.a.useState(""),a=Object(n.a)(t,2),c=a[0],i=a[1],u=r.a.useState(""),o=Object(n.a)(u,2),d=o[0],b=o[1],E=Object(l.useCallback)(function(e){return i(e.target.value)},[i]),v=Object(l.useCallback)(function(e){return b(e.target.value)},[b]),O=e.onRegister,j=e.disabled,C=Object(l.useCallback)(function(){O({username:c,password:d})},[c,d,O]),k=j||""===c.trim()||""===d.trim();return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\u5b57\u6bcd\uff0c\u6570\u5b57",value:c,onChange:E,type:"text",label:"\u7528\u6237\u540d",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(p.a,{onKeyEnterUp:C,placeholder:"\u8bf7\u8f93\u51654\u523016\u4f4d\u5b57\u6bcd\uff0c\u6570\u5b57",value:d,onChange:v,type:"text",label:"\u5bc6\u7801",fullWidth:!0})),r.a.createElement(g.a,null,r.a.createElement(s.a,{disabled:k,variant:"outlined",onClick:C,fullWidth:!0},"\u6ce8\u518c")))}O.defaultProps={disabled:!1};var j=O;function C(e){var t=e.$userInfo;return r.a.createElement(f.a,null,r.a.createElement(g.a,null,"\u5df2\u7ecf\u767b\u5f55\uff0c\u6b22\u8fce\u60a8!"),r.a.createElement(g.a,null,"\u7528\u6237\u540d: ".concat(t.get("username"))))}C.defaultProps={};var k=C,h=a(4),y=a(13),w=/^[a-zA-Z0-9_-]{4,16}$/,I=/^[a-zA-Z0-9_-]{4,16}$/;function x(e){var t=e.dispatch,a=e.hasLogin,o=e.$userInfo,f=e.isLogining,g=e.isRegistering,m=Object(l.useState)(0),p=Object(n.a)(m,2),E=p[0],O=p[1],C=Object(b.g)(),x=Object(l.useState)(!0),L=Object(n.a)(x,2),S=L[0],W=L[1],$=Object(l.useCallback)(function(){W(!1)},[W]),R=Object(l.useCallback)(function(){C.push("/")},[]),P=Object(l.useCallback)(function(e,t){O(t)},[]),U=Object(l.useCallback)(function(e){var a=e.username,n=void 0===a?"":a,l=e.password,r=void 0===l?"":l;w.test(n)&&I.test(r)?t(h.g.effectLogin(e)):t(h.c.addOneNitification({type:"error",title:"\u767b\u5f55\u5931\u8d25",detail:"\u975e\u6cd5\u7528\u6237\u540d\u6216\u5bc6\u7801\uff0c\u8bf7\u8f93\u51654\u523016\u4f4d\u7684\u5b57\u6bcd\u6216\u6570\u5b57",key:Object(y.f)("notify")}))},[t]),z=Object(l.useCallback)(function(e){var a=e.username,n=void 0===a?"":a,l=e.password,r=void 0===l?"":l;w.test(n)&&I.test(r)?t(h.g.effectRegister(e)):t(h.c.addOneNitification({type:"error",title:"\u6ce8\u518c\u5931\u8d25",detail:"\u975e\u6cd5\u7528\u6237\u540d\u6216\u5bc6\u7801\uff0c\u8bf7\u8f93\u51654\u523016\u4f4d\u7684\u5b57\u6bcd\u6216\u6570\u5b57",key:Object(y.f)("notify")}))},[t]),K=Object(l.useCallback)(function(){t(h.g.logout())},[t]),A=[Object(l.useMemo)(function(){return r.a.createElement(v,{disabled:f,onLogin:U})},[f,U]),Object(l.useMemo)(function(){return r.a.createElement(j,{disabled:g,onRegister:z})},[z,g])];return r.a.createElement(d.a,{in:S,onExited:R},r.a.createElement("div",{className:"AccountManager",onClick:$,style:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:"0",left:"0",height:"100%",width:"100%",zIndex:"3000",boxSizing:"border-box",padding:"0 50px",backgroundColor:"rgba(0, 0, 0, 0.25)"}},r.a.createElement(c.a,{onClick:y.e},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{$userInfo:o}),r.a.createElement(s.a,{fullWidth:!0,variant:"outlined",onClick:K},"\u9000\u51fa")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{value:E,indicatorColor:"primary",textColor:"primary",onChange:P,centered:!0},r.a.createElement(u.a,{label:"\u767b\u5f55"}),r.a.createElement(u.a,{label:"\u6ce8\u518c"})),r.a.createElement("div",null,A[E])))))}x.defaultProps={$userInfo:null};t.default=Object(o.b)(function(e){return{hasLogin:e.getIn(["user","hasLogin"]),isLogining:e.getIn(["user","isLogining"]),isRegistering:e.getIn(["user","isRegistering"]),$userInfo:e.getIn(["user","userInfo"])}},null)(x)}}]);
//# sourceMappingURL=5.1b6b1742.chunk.js.map